# Comparing `tmp/odoo12_addon_sm_collaborators-12.0.0.0.4-py2.py3-none-any.whl.zip` & `tmp/odoo12_addon_sm_collaborators-12.0.0.0.4.99.dev1-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,16 +1,16 @@
-Zip file size: 7312 bytes, number of entries: 14
--rw-r--r--  2.0 unx       46 b- defN 21-Oct-04 10:07 odoo/addons/sm_collaborators/__init__.py
--rw-r--r--  2.0 unx      793 b- defN 21-Oct-06 18:59 odoo/addons/sm_collaborators/__manifest__.py
--rw-r--r--  2.0 unx      112 b- defN 21-Oct-04 10:07 odoo/addons/sm_collaborators/models/__init__.py
--rw-r--r--  2.0 unx     1595 b- defN 21-Oct-04 10:07 odoo/addons/sm_collaborators/models/models_sm_collaborator.py
--rw-r--r--  2.0 unx     2706 b- defN 21-Oct-04 10:07 odoo/addons/sm_collaborators/models/models_sm_collaborator_fetch_wizard.py
--rw-r--r--  2.0 unx      357 b- defN 21-Oct-06 17:51 odoo/addons/sm_collaborators/security/ir.model.access.csv
--rw-r--r--  2.0 unx      141 b- defN 21-Oct-04 10:07 odoo/addons/sm_collaborators/views/views.xml
--rw-r--r--  2.0 unx     2669 b- defN 21-Oct-04 10:07 odoo/addons/sm_collaborators/views/views_collaborator.xml
--rw-r--r--  2.0 unx      505 b- defN 21-Oct-04 10:07 odoo/addons/sm_collaborators/views/views_collaborator_actions.xml
--rw-r--r--  2.0 unx     1341 b- defN 21-Oct-04 10:07 odoo/addons/sm_collaborators/views/views_collaborator_fetch_wizard.xml
--rw-r--r--  2.0 unx      432 b- defN 21-Oct-06 19:05 odoo12_addon_sm_collaborators-12.0.0.0.4.dist-info/METADATA
--rw-r--r--  2.0 unx      110 b- defN 21-Oct-06 19:05 odoo12_addon_sm_collaborators-12.0.0.0.4.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 21-Oct-06 19:05 odoo12_addon_sm_collaborators-12.0.0.0.4.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1527 b- defN 21-Oct-06 19:05 odoo12_addon_sm_collaborators-12.0.0.0.4.dist-info/RECORD
-14 files, 12339 bytes uncompressed, 4636 bytes compressed:  62.4%
+Zip file size: 7360 bytes, number of entries: 14
+-rw-rw-r--  2.0 unx       46 b- defN 23-Dec-19 17:24 odoo/addons/sm_collaborators/__init__.py
+-rw-rw-r--  2.0 unx      662 b- defN 23-Dec-19 17:24 odoo/addons/sm_collaborators/__manifest__.py
+-rw-rw-r--  2.0 unx      112 b- defN 23-Dec-19 17:24 odoo/addons/sm_collaborators/models/__init__.py
+-rw-rw-r--  2.0 unx     1873 b- defN 23-Dec-19 17:24 odoo/addons/sm_collaborators/models/models_sm_collaborator.py
+-rw-rw-r--  2.0 unx     3273 b- defN 23-Dec-19 17:24 odoo/addons/sm_collaborators/models/models_sm_collaborator_fetch_wizard.py
+-rw-rw-r--  2.0 unx      357 b- defN 23-Dec-19 17:24 odoo/addons/sm_collaborators/security/ir.model.access.csv
+-rw-rw-r--  2.0 unx      141 b- defN 23-Dec-19 17:24 odoo/addons/sm_collaborators/views/views.xml
+-rw-rw-r--  2.0 unx     2669 b- defN 23-Dec-19 17:24 odoo/addons/sm_collaborators/views/views_collaborator.xml
+-rw-rw-r--  2.0 unx      505 b- defN 23-Dec-19 17:24 odoo/addons/sm_collaborators/views/views_collaborator_actions.xml
+-rw-rw-r--  2.0 unx     1341 b- defN 23-Dec-19 17:24 odoo/addons/sm_collaborators/views/views_collaborator_fetch_wizard.xml
+-rw-rw-r--  2.0 unx      439 b- defN 24-May-10 10:51 odoo12_addon_sm_collaborators-12.0.0.0.4.99.dev1.dist-info/METADATA
+-rw-rw-r--  2.0 unx      110 b- defN 24-May-10 10:51 odoo12_addon_sm_collaborators-12.0.0.0.4.99.dev1.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        5 b- defN 24-May-10 10:51 odoo12_addon_sm_collaborators-12.0.0.0.4.99.dev1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1559 b- defN 24-May-10 10:51 odoo12_addon_sm_collaborators-12.0.0.0.4.99.dev1.dist-info/RECORD
+14 files, 13092 bytes uncompressed, 4620 bytes compressed:  64.7%
```

## zipnote {}

```diff
@@ -24,20 +24,20 @@
 
 Filename: odoo/addons/sm_collaborators/views/views_collaborator_actions.xml
 Comment: 
 
 Filename: odoo/addons/sm_collaborators/views/views_collaborator_fetch_wizard.xml
 Comment: 
 
-Filename: odoo12_addon_sm_collaborators-12.0.0.0.4.dist-info/METADATA
+Filename: odoo12_addon_sm_collaborators-12.0.0.0.4.99.dev1.dist-info/METADATA
 Comment: 
 
-Filename: odoo12_addon_sm_collaborators-12.0.0.0.4.dist-info/WHEEL
+Filename: odoo12_addon_sm_collaborators-12.0.0.0.4.99.dev1.dist-info/WHEEL
 Comment: 
 
-Filename: odoo12_addon_sm_collaborators-12.0.0.0.4.dist-info/top_level.txt
+Filename: odoo12_addon_sm_collaborators-12.0.0.0.4.99.dev1.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo12_addon_sm_collaborators-12.0.0.0.4.dist-info/RECORD
+Filename: odoo12_addon_sm_collaborators-12.0.0.0.4.99.dev1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/sm_collaborators/__manifest__.py

```diff
@@ -1,31 +1,28 @@
 # -*- coding: utf-8 -*-
 {
-  'name': "sm_collaborators",
+    'name': "sm_collaborators",
 
-  'summary': """""",
+    'summary': """""",
 
-  'description': """""",
+    'description': """""",
 
-  'author': "Som Mobilitat",
-  'website': "http://www.sommobilitat.coop",
+    'author': "Som Mobilitat",
+    'website': "http://www.sommobilitat.coop",
 
-  # Categories can be used to filter modules in modules listing
-  # Check https://github.com/odoo/odoo/blob/master/openerp/addons/base/module/module_data.xml
-  # for the full list
-  'category': 'Mobility',
-  'version': '12.0.0.0.4',
-
-  # any module necessary for this one to work correctly
-  'depends': ['base','vertical_carsharing'],
-
-  # always loaded
-  'data': [
-    'security/ir.model.access.csv',
-    'views/views.xml',
-    'views/views_collaborator.xml',
-    'views/views_collaborator_actions.xml',
-    'views/views_collaborator_fetch_wizard.xml',
-  ],
-  # only loaded in demonstration mode
-  'demo': [],
+    'category': 'Mobility',
+    'version': '12.0.0.0.4',
+
+    # any module necessary for this one to work correctly
+    'depends': ['base', 'vertical_carsharing'],
+
+    # always loaded
+    'data': [
+        'security/ir.model.access.csv',
+        'views/views.xml',
+        'views/views_collaborator.xml',
+        'views/views_collaborator_actions.xml',
+        'views/views_collaborator_fetch_wizard.xml',
+    ],
+    # only loaded in demonstration mode
+    'demo': [],
 }
```

## odoo/addons/sm_collaborators/models/models_sm_collaborator.py

```diff
@@ -2,43 +2,49 @@
 
 from odoo import models, fields, api
 from odoo.tools.translate import _
 from odoo.addons.sm_maintenance.models.models_sm_resources import sm_resources
 
 
 class sm_collaborator(models.Model):
-  _name = 'sm_collaborators.sm_collaborator'
+    _name = 'sm_collaborators.sm_collaborator'
 
-  # Data
-  name = fields.Char(string=_("Name"), required=True)
-  date = fields.Date(string=_("Date"))
-  member_name = fields.Char(string=_("Member name"))
-  member_email = fields.Char(string=_("Member email"))
-  collaborator_info = fields.Char(string=_("Info"))
-  collaborator_type = fields.Selection([('www', 'Socis Colaboradors (web)')],
-    string=_("Type"))
-
-  # Computed
-  completed = fields.Date(string=_("Completed"))
-  end = fields.Date(string=_("Collaboration end"))
-  related_member_id = fields.Many2one('res.partner', string=_("Partner"))
-
-  _order = "date desc"
-
-  @api.multi
-  def find_rel_partner(self):
-    cols = self.env['sm_collaborators.sm_collaborator'].browse(self.env.context['active_ids'])
-    if cols.exists():
-      for col in cols:
-        rel_member = self.env['res.partner'].sudo().search([
-          ('name', 'like', col.member_name.lower().title())])
-        if len(rel_member) > 0:
-          if len(rel_member) > 1:
-            for member in rel_member:
-              if member.email == col.member_email:
-                col.sudo().write({'related_member_id': member.id})
-          else:
-            col.sudo().write({'related_member_id': rel_member[0].id})
-
-    return sm_resources.getInstance().get_successful_action_message(self,
-      _('Find relative partner done successfully'),
-      self._name)
+    # Data
+    name = fields.Char(string=_("Name"), required=True)
+    date = fields.Date(string=_("Date"))
+    member_name = fields.Char(string=_("Member name"))
+    member_email = fields.Char(string=_("Member email"))
+    collaborator_info = fields.Char(string=_("Info"))
+    collaborator_type = fields.Selection([
+        ('www', 'Socis Colaboradors (web)')],
+        string=_("Type")
+    )
+    # Computed
+    completed = fields.Date(string=_("Completed"))
+    end = fields.Date(string=_("Collaboration end"))
+    related_member_id = fields.Many2one('res.partner', string=_("Partner"))
+
+    _order = "date desc"
+
+    @api.multi
+    def find_rel_partner(self):
+        cols = self.env['sm_collaborators.sm_collaborator'].browse(
+            self.env.context['active_ids'])
+        if cols.exists():
+            for col in cols:
+                rel_member = self.env['res.partner'].sudo().search([
+                    ('name', 'like', col.member_name.lower().title())])
+                if len(rel_member) > 0:
+                    if len(rel_member) > 1:
+                        for member in rel_member:
+                            if member.email == col.member_email:
+                                col.sudo().write(
+                                    {'related_member_id': member.id})
+                    else:
+                        col.sudo().write(
+                            {'related_member_id': rel_member[0].id})
+
+        return sm_resources.getInstance().get_successful_action_message(
+            self,
+            _('Find relative partner done successfully'),
+            self._name
+        )
```

## odoo/addons/sm_collaborators/models/models_sm_collaborator_fetch_wizard.py

```diff
@@ -1,90 +1,103 @@
 # -*- coding: utf-8 -*-
 # encoding: utf-8
 
 import json
 import re
-import sys
 from html.parser import HTMLParser
 
 # from HTMLParser import HTMLParser
 from odoo import models, api
 from odoo.addons.sm_maintenance.models.models_sm_utils import sm_utils
 from odoo.addons.sm_connect.models.models_sm_wordpress_db_utils import sm_wordpress_db_utils
 
-#TODO: Prepare cron for this task.
-class sm_collaborator_fetch_wizard(models.TransientModel):
-  _name = "sm_collaborators.sm_collaborator_fetch_wizard"
-
-  @api.multi
-  def create_request(self):
-    self.__db_utils = sm_wordpress_db_utils.get_instance(self)
-
-    # firebase fetch
-    self.upcomming_members()
-    return True
-
-  def upcomming_members(self):
-
-    # reload(sys)
-    # sys.setdefaultencoding('utf8')
-
-    feedbacks_sc = self.__db_utils.get_feedback_formcraft('Fes-te soci col路laborador')
-    feedbacks_c = self.__db_utils.get_feedback_formcraft('Fes-te col路laborador')
-
-    self.merge_feedbacks(feedbacks_sc)
-    self.merge_feedbacks(feedbacks_c)
-
-    return True
-
-  def merge_feedbacks(self, feedbacks):
+# TODO: Prepare cron for this task.
 
-    h = HTMLParser()
 
-    for feedback in feedbacks:
-
-      tf = feedbacks[feedback]['content']
-      df = feedbacks[feedback]['created']
-
-      tf_utg = tf.encode('utf8')
-      tf_clean = tf_utg.decode('unicode_escape')
-
-      j = json.loads(tf_clean)
-
-      j_comp = {}
-      udata = {}
-      for cs in j:
-        if cs['label'] != 'Import' or (
-          cs['label'] == 'Import' and cs['value'] != 'Altres' and ('Import' in j_comp) == False):
-          line_key = re.sub('[^A-Za-z0-9]+', '', cs['label'])
-          j_comp[line_key] = {
-            'value': h.unescape(cs['value']),
-            'identifier': cs['identifier']
-          }
-
-      udata['collaborator_info'] = ''
-      if 'Import' in j_comp:
-        udata['collaborator_info'] += str(j_comp['Import']['value'])
-      if 'Periodicitat' in j_comp:
-        udata['collaborator_info'] += " " + j_comp['Periodicitat']['value']
-
-      udata['date'] = df
-      udata['member_name'] = ''
-      if 'Cognoms' in j_comp:
-        udata['member_name'] += j_comp['Cognoms']['value']
-      if 'Nom' in j_comp:
-        if udata['member_name'] != '':
-          udata['member_name'] += ", "
-        udata['member_name'] += j_comp['Nom']['value']
-
-      udata['name'] = df.strftime('%Y-%m-%d') + " - " + udata['member_name']
-      if 'email' in j_comp:
-        udata['member_email'] = j_comp['email']['value']
-      udata['collaborator_type'] = 'www'
+class sm_collaborator_fetch_wizard(models.TransientModel):
+    _name = "sm_collaborators.sm_collaborator_fetch_wizard"
 
-      collab = sm_utils.get_create_existing_model(self.env['sm_collaborators.sm_collaborator'],
-        [('name', '=', udata['name'])], {'name': udata['name']})
+    @api.multi
+    def create_request(self):
+        self.__db_utils = sm_wordpress_db_utils.get_instance(self)
+        # firebase fetch
+        self.upcomming_members()
+        return True
+
+    def upcomming_members(self):
+
+        # reload(sys)
+        # sys.setdefaultencoding('utf8')
+
+        feedbacks_sc = self.__db_utils.get_feedback_formcraft(
+            'Fes-te soci col路laborador')
+        feedbacks_c = self.__db_utils.get_feedback_formcraft(
+            'Fes-te col路laborador')
+
+        self.merge_feedbacks(feedbacks_sc)
+        self.merge_feedbacks(feedbacks_c)
+
+        return True
+
+    def merge_feedbacks(self, feedbacks):
+
+        h = HTMLParser()
+
+        for feedback in feedbacks:
+
+            tf = feedbacks[feedback]['content']
+            df = feedbacks[feedback]['created']
+
+            tf_utg = tf.encode('utf8')
+            tf_clean = tf_utg.decode('unicode_escape')
+
+            j = json.loads(tf_clean)
+
+            j_comp = {}
+            udata = {}
+            for cs in j:
+                if (
+                    cs['label'] != 'Import' or
+                    (
+                        cs['label'] == 'Import' and
+                        cs['value'] != 'Altres' and
+                        ('Import' in j_comp) is False
+                    )
+                ):
+                    line_key = re.sub('[^A-Za-z0-9]+', '', cs['label'])
+                    j_comp[line_key] = {
+                        'value': h.unescape(cs['value']),
+                        'identifier': cs['identifier']
+                    }
+
+            udata['collaborator_info'] = ''
+            if 'Import' in j_comp:
+                udata['collaborator_info'] += str(j_comp['Import']['value'])
+            if 'Periodicitat' in j_comp:
+                udata['collaborator_info'] += " " + \
+                    j_comp['Periodicitat']['value']
+
+            udata['date'] = df
+            udata['member_name'] = ''
+            if 'Cognoms' in j_comp:
+                udata['member_name'] += j_comp['Cognoms']['value']
+            if 'Nom' in j_comp:
+                if udata['member_name'] != '':
+                    udata['member_name'] += ", "
+                udata['member_name'] += j_comp['Nom']['value']
+
+            udata['name'] = df.strftime(
+                '%Y-%m-%d') + " - " + udata['member_name']
+            if 'email' in j_comp:
+                udata['member_email'] = j_comp['email']['value']
+            udata['collaborator_type'] = 'www'
+
+            collab = sm_utils.get_create_existing_model(
+                self.env['sm_collaborators.sm_collaborator'],
+                [('name', '=', udata['name'])],
+                {'name': udata['name']}
+            )
 
-      if not collab.completed:
-        collab.sudo().write(udata)
+            if not collab.completed:
+                collab.sudo().write(udata)
 
-    return True
+        return True
```

