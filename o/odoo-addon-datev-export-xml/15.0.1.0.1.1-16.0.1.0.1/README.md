# Comparing `tmp/odoo_addon_datev_export_xml-15.0.1.0.1.1-py3-none-any.whl.zip` & `tmp/odoo_addon_datev_export_xml-16.0.1.0.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,61 +1,61 @@
-Zip file size: 2783946 bytes, number of entries: 59
--rw-r--r--  2.0 unx    18174 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/README.rst
--rw-r--r--  2.0 unx      407 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/__init__.py
--rw-r--r--  2.0 unx     1279 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/__manifest__.py
--rw-r--r--  2.0 unx      609 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/data/ir_cron_data.xml
--rw-r--r--  2.0 unx    11880 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/demo/export_data.xml
--rw-r--r--  2.0 unx    32225 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/i18n/datev_export_xml.pot
--rw-r--r--  2.0 unx    40868 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/i18n/de.po
--rw-r--r--  2.0 unx      593 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/models/__init__.py
--rw-r--r--  2.0 unx     3841 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/models/account_move.py
--rw-r--r--  2.0 unx    16494 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/models/datev_export.py
--rw-r--r--  2.0 unx     1744 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/models/datev_pdf_generator.py
--rw-r--r--  2.0 unx     3324 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/models/datev_xml_generator.py
--rw-r--r--  2.0 unx     2549 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/models/datev_zip_generator.py
--rw-r--r--  2.0 unx     1534 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/models/res_company.py
--rw-r--r--  2.0 unx     1019 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/models/res_config_settings.py
--rw-r--r--  2.0 unx     1852 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/readme/CONFIGURATION.rst
--rw-r--r--  2.0 unx       90 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      688 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx    13381 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/readme/USAGE.rst
--rw-r--r--  2.0 unx      273 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/security/groups.xml
--rw-r--r--  2.0 unx      186 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/security/ir.model.access.csv
--rw-r--r--  2.0 unx      358 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/security/security.xml
--rw-r--r--  2.0 unx   137968 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/belegtransfer_belege_hochladen.png
--rwxr-xr-x  2.0 unx   190143 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/belegtransfer_belege_hochladen_dateiauswahl.png
--rwxr-xr-x  2.0 unx   108535 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/belegtransfer_protokoll_auswahl.png
--rwxr-xr-x  2.0 unx   170752 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/belegtransfer_protokoll_details.png
--rwxr-xr-x  2.0 unx   106961 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/belegtransfer_protokoll_liste.png
--rw-r--r--  2.0 unx    27636 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/belegtransfer_protokoll_timestamp.png
--rwxr-xr-x  2.0 unx   121412 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/belegtransfer_verezcihnis_anlegen_2.png
--rwxr-xr-x  2.0 unx   126020 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_0.png
--rwxr-xr-x  2.0 unx   107911 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_1.png
--rwxr-xr-x  2.0 unx   102658 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_3.png
--rw-r--r--  2.0 unx   203032 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen.png
--rw-r--r--  2.0 unx   200943 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen_rechnungsdatenschnittstelle.png
--rwxr-xr-x  2.0 unx   190090 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/datev_uo_bereitstellen_1.png
--rwxr-xr-x  2.0 unx   182142 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/datev_uo_bereitstellen_2.png
--rw-r--r--  2.0 unx   109164 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/example_datev_config.png
--rw-r--r--  2.0 unx   303474 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/example_datev_export_exception.png
--rw-r--r--  2.0 unx   246591 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/example_datev_export_wizard.png
--rw-r--r--  2.0 unx   235481 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/example_datev_export_wizard_manual.png
--rw-r--r--  2.0 unx   159389 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/example_partner_config.png
--rw-r--r--  2.0 unx     9455 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/icon.png
--rw-r--r--  2.0 unx    30192 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/description/index.html
--rw-r--r--  2.0 unx     8482 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/static/src/demo/vendor_bill_attachment.pdf
--rw-r--r--  2.0 unx      212 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/tests/__init__.py
--rw-r--r--  2.0 unx    34043 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/tests/test_datev_export.py
--rw-r--r--  2.0 unx      582 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/tests/test_generator.py
--rw-r--r--  2.0 unx     1667 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/views/account_invoice_view.xml
--rw-r--r--  2.0 unx    20093 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/views/datev_export_views.xml
--rw-r--r--  2.0 unx     5511 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/views/res_config_settings_views.xml
--rw-r--r--  2.0 unx     8894 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/views/templates.xml
--rw-r--r--  2.0 unx    28848 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/xsd_files/Belegverwaltung_online_invoice_v050.xsd
--rw-r--r--  2.0 unx    88868 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/xsd_files/Belegverwaltung_online_types_v050.xsd
--rw-r--r--  2.0 unx    18456 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/xsd_files/Document_types_v050.xsd
--rw-r--r--  2.0 unx    15489 b- defN 24-Apr-11 04:14 odoo/addons/datev_export_xml/xsd_files/Document_v050.xsd
--rw-r--r--  2.0 unx    18903 b- defN 24-Apr-11 04:14 odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-11 04:14 odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 24-Apr-11 04:14 odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     7142 b- defN 24-Apr-11 04:14 odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/RECORD
-59 files, 3480604 bytes uncompressed, 2771844 bytes compressed:  20.4%
+Zip file size: 2783498 bytes, number of entries: 59
+-rw-r--r--  2.0 unx    18229 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/README.rst
+-rw-r--r--  2.0 unx      407 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/__init__.py
+-rw-r--r--  2.0 unx     1352 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/__manifest__.py
+-rw-r--r--  2.0 unx      609 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/data/ir_cron_data.xml
+-rw-r--r--  2.0 unx    11681 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/demo/export_data.xml
+-rw-r--r--  2.0 unx    30384 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/i18n/datev_export_xml.pot
+-rw-r--r--  2.0 unx    39873 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/i18n/de.po
+-rw-r--r--  2.0 unx      642 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/models/__init__.py
+-rw-r--r--  2.0 unx     3981 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/models/account_move.py
+-rw-r--r--  2.0 unx    15193 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/models/datev_export.py
+-rw-r--r--  2.0 unx     1834 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/models/datev_pdf_generator.py
+-rw-r--r--  2.0 unx     3245 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/models/datev_xml_generator.py
+-rw-r--r--  2.0 unx     2549 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/models/datev_zip_generator.py
+-rw-r--r--  2.0 unx     1534 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/models/res_company.py
+-rw-r--r--  2.0 unx     1019 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/models/res_config_settings.py
+-rw-r--r--  2.0 unx     1852 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/readme/CONFIGURATION.rst
+-rw-r--r--  2.0 unx      130 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      688 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx    13381 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/readme/USAGE.rst
+-rw-r--r--  2.0 unx      273 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/security/groups.xml
+-rw-r--r--  2.0 unx      186 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/security/ir.model.access.csv
+-rw-r--r--  2.0 unx      358 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/security/security.xml
+-rw-r--r--  2.0 unx   137968 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/belegtransfer_belege_hochladen.png
+-rwxr-xr-x  2.0 unx   190143 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/belegtransfer_belege_hochladen_dateiauswahl.png
+-rwxr-xr-x  2.0 unx   108535 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/belegtransfer_protokoll_auswahl.png
+-rwxr-xr-x  2.0 unx   170752 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/belegtransfer_protokoll_details.png
+-rwxr-xr-x  2.0 unx   106961 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/belegtransfer_protokoll_liste.png
+-rw-r--r--  2.0 unx    27636 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/belegtransfer_protokoll_timestamp.png
+-rwxr-xr-x  2.0 unx   121412 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/belegtransfer_verezcihnis_anlegen_2.png
+-rwxr-xr-x  2.0 unx   126020 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_0.png
+-rwxr-xr-x  2.0 unx   107911 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_1.png
+-rwxr-xr-x  2.0 unx   102658 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_3.png
+-rw-r--r--  2.0 unx   203032 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen.png
+-rw-r--r--  2.0 unx   200943 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen_rechnungsdatenschnittstelle.png
+-rwxr-xr-x  2.0 unx   190090 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/datev_uo_bereitstellen_1.png
+-rwxr-xr-x  2.0 unx   182142 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/datev_uo_bereitstellen_2.png
+-rw-r--r--  2.0 unx   109164 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/example_datev_config.png
+-rw-r--r--  2.0 unx   303474 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/example_datev_export_exception.png
+-rw-r--r--  2.0 unx   246591 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/example_datev_export_wizard.png
+-rw-r--r--  2.0 unx   235481 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/example_datev_export_wizard_manual.png
+-rw-r--r--  2.0 unx   159389 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/example_partner_config.png
+-rw-r--r--  2.0 unx     9455 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/icon.png
+-rw-r--r--  2.0 unx    30320 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/description/index.html
+-rw-r--r--  2.0 unx     8482 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/static/src/demo/vendor_bill_attachment.pdf
+-rw-r--r--  2.0 unx      212 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/tests/__init__.py
+-rw-r--r--  2.0 unx    33895 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/tests/test_datev_export.py
+-rw-r--r--  2.0 unx      582 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/tests/test_generator.py
+-rw-r--r--  2.0 unx     1252 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/views/account_invoice_view.xml
+-rw-r--r--  2.0 unx    19064 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/views/datev_export_views.xml
+-rw-r--r--  2.0 unx     5511 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/views/res_config_settings_views.xml
+-rw-r--r--  2.0 unx     7935 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/views/templates.xml
+-rw-r--r--  2.0 unx    28848 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/xsd_files/Belegverwaltung_online_invoice_v050.xsd
+-rw-r--r--  2.0 unx    88868 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/xsd_files/Belegverwaltung_online_types_v050.xsd
+-rw-r--r--  2.0 unx    18456 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/xsd_files/Document_types_v050.xsd
+-rw-r--r--  2.0 unx    15489 b- defN 24-May-09 11:57 odoo/addons/datev_export_xml/xsd_files/Document_v050.xsd
+-rw-r--r--  2.0 unx    18971 b- defN 24-May-09 11:57 odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-09 11:57 odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 24-May-09 11:57 odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     7135 b- defN 24-May-09 11:57 odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/RECORD
+59 files, 3474274 bytes uncompressed, 2771412 bytes compressed:  20.2%
```

## zipnote {}

```diff
@@ -159,20 +159,20 @@
 
 Filename: odoo/addons/datev_export_xml/xsd_files/Document_types_v050.xsd
 Comment: 
 
 Filename: odoo/addons/datev_export_xml/xsd_files/Document_v050.xsd
 Comment: 
 
-Filename: odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/METADATA
+Filename: odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/WHEEL
+Filename: odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/top_level.txt
+Filename: odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/RECORD
+Filename: odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/datev_export_xml/README.rst

```diff
@@ -3,31 +3,31 @@
 ================
 
 .. 
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
    !! changes will be overwritten.                   !!
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-   !! source digest: sha256:e862a39f0d6e3edb2f3e8a9999ac7014fc03ddc8566245b09cb1e35e87313a40
+   !! source digest: sha256:c149868b863e0d8455b3173baae0272f1f0dc4e7568f77c25d70af0adc10cf4f
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
     :target: https://odoo-community.org/page/development-status
     :alt: Beta
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--germany-lightgray.png?logo=github
-    :target: https://github.com/OCA/l10n-germany/tree/15.0/datev_export_xml
+    :target: https://github.com/OCA/l10n-germany/tree/16.0/datev_export_xml
     :alt: OCA/l10n-germany
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/l10n-germany-15-0/l10n-germany-15-0-datev_export_xml
+    :target: https://translation.odoo-community.org/projects/l10n-germany-16-0/l10n-germany-16-0-datev_export_xml
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
-    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-germany&target_branch=15.0
+    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-germany&target_branch=16.0
     :alt: Try me on Runboat
 
 |badge1| |badge2| |badge3| |badge4| |badge5|
 
 Odoo Export to DATEV XML
 ========================
 
@@ -53,15 +53,15 @@
 
 Export by Wizard
 ~~~~~~~~~~~~~~~~
 
 The main export usage will be done by the **DATEV Export** Wizard, which can be executed from the menu item located at
 **Invoicing > Reporting > Datev Export**.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_wizard.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_wizard.png
     :width: 100%
 
 At the wizard you can filter by *Invoice types* and limit the *time range*. At the *General Settings* you can choose your company and if you want to validate the XML-Export file by the provided XSD-Schema (Recommended).
 
 .. important::
 
     It's very important for a valid import at DATEV that the export file meets the requirements! So make sure that
@@ -73,22 +73,22 @@
 
 Manual Export
 ~~~~~~~~~~~~~
 
 
 It is also possible to export selected invoice(s) or refund(s) from the Invoices / Refunds *Action-Dropdown*. As result you can download a zip file ready to transfer to DATEV Unternehmen Online. The file contains the selected invoices / refunds as xml and pdf file and a document file which summarizes and classify all included files. This method can be handy if an exception occurs while generating a huge amount of invoices / refunds via the wizard, to fix and validate the related invoice / refund before running the wizard again.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_wizard_manual.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_wizard_manual.png
     :width: 100%
 
 If you create a manual export from the vendor bills list the export type is „Vendors“. If you create this export from the customer invoices the export type is „Customers“.
 
 If you have the Check XSD option, it's possible that some errors occurs.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_exception.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_exception.png
     :width: 100%
 
 
 On errors, an activity will be applied to you for fixing the problem. If you have fixed the problem, just restart the wizard, or click on „Recreate DATEV Export File“. On success you can download the generated zip file from the wizards **Download DATEV File** section.
 
 
 .. hint::
@@ -101,19 +101,19 @@
 =================
 
 Requirements
 ~~~~~~~~~~~~
 
 1.) DATEV Unternehmen Online is activated for the client. (In order to simply import the receipts, it is not necessary for the client to have their own access to DATEV Unternehmen Online). Please ensure you have configured the following "Advanced Settings" in DATEV Unternehmen Online in order to allow to import split account moves with many invoice lines from Invoices / Bills:
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen.png
      :width: 100%
 
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen_rechnungsdatenschnittstelle.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen_rechnungsdatenschnittstelle.png
      :width: 100%
 
 
 2.) The DATEV Belegtransfer program is installed and open.
 
 
 Transmission to the tax advisor
@@ -130,64 +130,64 @@
 
 
 DATEV Belegtransfer
 ~~~~~~~~~~~~~~~~~~~~
 
 To transfer the .zip archive from Odoo, the DATEV document transfer program „DATEV Belegtransfer“ must be installed and open. In the opened DATEV Belegtransfer application you can now click on "Add directories" and make the following settings:
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_0.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_0.png
      :width: 100%
 
 1.) "Create directories" dialog: Specify where the directories should be saved, how the company directory should be named and whether you want to delete or archive the source files after the upload. Then click on "Save".
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_1.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_1.png
      :width: 100%
 
 
 2.) Now define the directories that are to be used by first selecting the client and then clicking on "Next". You can now use the two following suggested entries and configure them as follows:
 * Activate *Rechnungseingang* "Create as directory". Also activate "Configure as XML interface". To activate the XML interface, slide the slider in the "Configure as XML interface" column to the right. Then it is green. The setting is important for the transfer of the files. DATEV only reads in the receipts correctly with an activated XML interface.
 * Activate *Rechnungsausgang* "Create as directory". Also activate "Configure as XML interface". To activate the XML interface, slide the slider in the "Configure as XML interface" column to the right. Then it is also green.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verezcihnis_anlegen_2.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verezcihnis_anlegen_2.png
      :width: 100%
 
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_3.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_3.png
      :width: 100%
 
 Transfer files
 ~~~~~~~~~~~~~~
 
 1.) Double-click on either the “Rechnungseingang” or “Rechnungsausgang” directory. The storage location for the files to be uploaded opens. Place the file in the storage location. Make sure you put the files in the right directory:
 * ZIP file for outgoing invoices from Odoo in the directory with activated XML interface „Ausgangsrechnungen“.
 * ZIP file for incoming invoices from Odoo in the directory with activated XML interface „Eingangsrechnungen".
 * EXCURSION: if you want to upload .csv files, e.g. exported from the datev_export_acii application, copy them to a directory without an activated XML interface (in the screenshot "Other")
 
 You can tell for which directory the XML interface is activated by the interface symbol at the beginning of the line. If the symbol is displayed, the XML interface is activated in the directory (it should therefore be active in the two directories “Eingangsrechnungen” and “Ausgangsrechnungen”).
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_belege_hochladen.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_belege_hochladen.png
      :width: 100%
 
 2.) Right-click on the directory. A new menu will open. Click Upload Receipts. Uploading deletes the files from the directory or moves them to an archive folder. You can specify which option should apply under Settings.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_belege_hochladen_dateiauswahl.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_belege_hochladen_dateiauswahl.png
      :width: 100%
 
 3.) To check whether the upload was successful, right-click on the directory. A new menu will open. Click Open Log. For more details click on “Import Log”
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_timestamp.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_timestamp.png
      :width: 100%
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_auswahl.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_auswahl.png
      :width: 100%
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_liste.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_liste.png
      :width: 100%
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_details.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_details.png
      :width: 100%
 
 4.) Repeat steps 1 to 3 with the other directory (either for A/R invoices / A/R invoices if you want to upload those as well).
 
 
 Check the import of the receipts in DATEV Unternehmen Online:
 
@@ -197,19 +197,19 @@
 Download booking records
 ~~~~~~~~~~~~~~~~~~~~~~~~
 
 1.) In DATEV Unternehmen Online:
 
 The "Provide" („Bereitstellen“)  position is on the Receipts start page in DATEV Unternehmen Online. The batch of bookings exported from Odoo and uploaded via DATEV document transfer for „Eingangsrechnungen“ and „Ausgangsrechnugnen“ can be marked here, in order to make them ready for collection by clicking on "Provide" for DATEV Kanzlei-Rechnungswesen. With the appropriate authorization, this process can be carried out by the client himself or by the tax consultant.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_uo_bereitstellen_1.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_uo_bereitstellen_1.png
      :width: 100%
 
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_uo_bereitstellen_2.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_uo_bereitstellen_2.png
      :width: 100%
 
 2.) In DATEV Kanzlei-Rechnungswesen, this provided data must be retrieved via client supplement.
 The procedure is as follows:
 Under "Preparatory activities" in your overview on the left, click on "Add client".
 Select the item "Cash register/invoice stack from cash book/receipts online".
 The process is started by clicking on "Get data".
@@ -243,15 +243,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-germany/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us to smash it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/l10n-germany/issues/new?body=module:%20datev_export_xml%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/l10n-germany/issues/new?body=module:%20datev_export_xml%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -259,31 +259,33 @@
 
 * Guenter Selbert
 * Thorsten Vocks
 * Maciej Wichowski
 * Daniela Scarpa
 * Maria Sparenberg
 * initOS GmbH
+* Jan Sierpina
 
 Contributors
 ~~~~~~~~~~~~
 
 * Thorsten Vocks (OpenBIG.org)
 * Guenter Selbert (sewisoft.de)
 * initOS GmbH (initOS.com)
+* Solvti sp. z o.o. (https://solvti.pl)
 
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
-This module is part of the `OCA/l10n-germany <https://github.com/OCA/l10n-germany/tree/15.0/datev_export_xml>`_ project on GitHub.
+This module is part of the `OCA/l10n-germany <https://github.com/OCA/l10n-germany/tree/16.0/datev_export_xml>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## odoo/addons/datev_export_xml/__manifest__.py

```diff
@@ -1,23 +1,24 @@
+# Copyright (C) 2024 Solvti sp. z o.o. (https://solvti.pl)
 # Copyright (C) 2022-2023 initOS GmbH
 # Copyright (C) 2019 sewisoft (sewisoft.de)
 # Copyright (C) 2010-2023 big-consulting GmbH (www.openbig.de)
 # Copyright (C) 2010 OpenGLOBE Grzegorz Grzelak (www.openglobe.pl)
 # @author Guenter Selbert <guenter.selbert@sewisoft.de>
 # @author Thorsten Vocks <thorsten.vocks@openbig.org>
 # @author Grzegorz Grzelak
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 
 {
     "name": "Datev Export XML",
-    "version": "15.0.1.0.1",
+    "version": "16.0.1.0.1",
     "category": "Accounting",
     "license": "AGPL-3",
     "author": "Guenter Selbert, Thorsten Vocks, Maciej Wichowski, Daniela Scarpa, "
-    "Maria Sparenberg, initOS GmbH, Odoo Community Association (OCA)",
+    "Maria Sparenberg, initOS GmbH, Jan Sierpina, Odoo Community Association (OCA)",
     "summary": "Export invoices and refunds as xml and pdf files zipped in DATEV format.",
     "website": "https://github.com/OCA/l10n-germany",
     "depends": [
         "datev_export",
     ],
     "data": [
         "data/ir_cron_data.xml",
```

## odoo/addons/datev_export_xml/demo/export_data.xml

### odoo/addons/datev_export_xml/demo/export_data.xml

```diff
@@ -1,83 +1,81 @@
 <?xml version="1.0" encoding="utf-8"?>
 <odoo>
   <record id="base.main_company" model="res.company">
     <field name="datev_client_number">1234</field>
     <field name="datev_consultant_number">12345</field>
-    <!-- <field name="group_account_user" eval="True"/> -->
-    <!-- <field name="group_analytic_accounting" eval="True"/> -->
   </record>
   <!-- Company Datev Accounts -->
   <record id="account_datev_rec" model="account.account">
     <field name="name">Company Account Receivable</field>
     <field name="code">69999</field>
     <field name="reconcile" eval="True"/>
-    <field name="user_type_id" ref="account.data_account_type_receivable"/>
+    <field name="account_type">asset_receivable</field>
   </record>
   <record id="account_datev_pay" model="account.account">
     <field name="name">Company Account Payable</field>
     <field name="code">99999</field>
     <field name="reconcile" eval="True"/>
-    <field name="user_type_id" ref="account.data_account_type_payable"/>
+    <field name="account_type">liability_payable</field>
   </record>
   <record id="base.main_partner" model="res.partner">
     <field name="property_account_receivable_id" ref="account_datev_rec"/>
     <field name="property_account_payable_id" ref="account_datev_pay"/>
   </record>
   <!-- German Accounts -->
   <record id="account_datev_rec_DE" model="account.account">
     <field name="name">A-Customer Account DE</field>
     <field name="code">10001</field>
     <field name="reconcile" eval="True"/>
-    <field name="user_type_id" ref="account.data_account_type_receivable"/>
+    <field name="account_type">asset_receivable</field>
   </record>
   <record id="account_datev_pay_DE" model="account.account">
     <field name="name">A-Vendor Account DE</field>
     <field name="code">70001</field>
     <field name="reconcile" eval="True"/>
-    <field name="user_type_id" ref="account.data_account_type_payable"/>
+    <field name="account_type">liability_payable</field>
   </record>
   <!-- EU Accounts -->
   <record id="account_datev_rec_EU" model="account.account">
     <field name="name">A-Customer Account EU</field>
     <field name="code">10002</field>
     <field name="reconcile" eval="True"/>
-    <field name="user_type_id" ref="account.data_account_type_receivable"/>
+    <field name="account_type">asset_receivable</field>
   </record>
   <record id="account_datev_pay_EU" model="account.account">
     <field name="name">A-Vendor Account EU</field>
     <field name="code">70002</field>
     <field name="reconcile" eval="True"/>
-    <field name="user_type_id" ref="account.data_account_type_payable"/>
+    <field name="account_type">liability_payable</field>
   </record>
   <!-- Non-EU Accounts -->
   <record id="account_datev_rec_NonEU" model="account.account">
     <field name="name">A-Customer Account Non-EU</field>
     <field name="code">10003</field>
     <field name="reconcile" eval="True"/>
-    <field name="user_type_id" ref="account.data_account_type_receivable"/>
+    <field name="account_type">asset_receivable</field>
   </record>
   <record id="account_datev_pay_NonEU" model="account.account">
     <field name="name">A-Vendor Account Non-EU</field>
     <field name="code">70003</field>
     <field name="reconcile" eval="True"/>
-    <field name="user_type_id" ref="account.data_account_type_payable"/>
+    <field name="account_type">liability_payable</field>
   </record>
   <!-- Accounts Income and Expense -->
   <record id="account_datev_income" model="account.account">
     <field name="name">A-Income</field>
     <field name="code">8401</field>
     <field name="reconcile" eval="False"/>
-    <field name="user_type_id" ref="account.data_account_type_revenue"/>
+    <field name="account_type">income</field>
   </record>
   <record id="account_datev_expense" model="account.account">
     <field name="name">A-Expense</field>
     <field name="code">3401</field>
     <field name="reconcile" eval="False"/>
-    <field name="user_type_id" ref="account.data_account_type_expenses"/>
+    <field name="account_type">expense</field>
   </record>
   <!-- German Partners -->
   <record id="customer_DE" model="res.partner">
     <field name="name">A-Customer DE</field>
     <field name="street">Straße 1</field>
     <field name="zip">12345</field>
     <field name="city">City</field>
@@ -143,18 +141,20 @@
     <field name="customer_rank" eval="0"/>
     <field name="property_account_receivable_id" ref="account_datev_rec_NonEU"/>
     <field name="property_account_payable_id" ref="account_datev_pay_NonEU"/>
   </record>
   <record id="analytic_account_datev_01" model="account.analytic.account">
     <field name="name">A-IT</field>
     <field name="code">990010</field>
+    <field name="plan_id" ref="analytic.analytic_plan_departments"/>
   </record>
   <record id="analytic_account_datev_02" model="account.analytic.account">
     <field name="name">A-Office</field>
     <field name="code">990000</field>
+    <field name="plan_id" ref="analytic.analytic_plan_departments"/>
   </record>
   <record id="product_datev_01" model="product.product">
     <field name="name">A-IT-Consulting</field>
     <field name="default_code">11-001</field>
     <field name="type">service</field>
     <field name="sale_ok" eval="True"/>
     <field name="categ_id" ref="product.product_category_all"/>
```

## odoo/addons/datev_export_xml/i18n/datev_export_xml.pot

```diff
@@ -1,14 +1,14 @@
 # Translation of Odoo Server.
 # This file contains the translation of the following modules:
 # 	* datev_export_xml
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Odoo Server 15.0\n"
+"Project-Id-Version: Odoo Server 16.0\n"
 "Report-Msgid-Bugs-To: \n"
 "Last-Translator: \n"
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"
@@ -50,26 +50,19 @@
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "<span class=\"o_stat_text\">Invoices</span>"
 msgstr ""
 
 #. module: datev_export_xml
-#: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
-msgid "<span class=\"o_stat_text\">Problems</span>"
-msgstr ""
-
-#. module: datev_export_xml
-#: model:product.product,name:datev_export_xml.product_datev_01
 #: model:product.template,name:datev_export_xml.product_datev_01_product_template
 msgid "A-IT-Consulting"
 msgstr ""
 
 #. module: datev_export_xml
-#: model:product.product,name:datev_export_xml.product_datev_02
 #: model:product.template,name:datev_export_xml.product_datev_02_product_template
 msgid "A-Office-Lease"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__message_needaction
 msgid "Action Needed"
@@ -173,21 +166,23 @@
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_res_company__datev_customer_order_ref
 #: model:ir.model.fields,field_description:datev_export_xml.field_res_config_settings__datev_customer_order_ref
 msgid "Customer Order Reference"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__datev_export_xml__export_type__out
 #, python-format
 msgid "Customers"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid "DATEV Export file is ready to download!"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model,name:datev_export_xml.model_datev_pdf_generator
@@ -211,32 +206,33 @@
 #: model:ir.model,name:datev_export_xml.model_datev_xml_generator
 msgid "DATEV XML Generator"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.actions.server,name:datev_export_xml.cron_create_datev_export_ir_actions_server
 #: model:ir.cron,cron_name:datev_export_xml.cron_create_datev_export
-#: model:ir.cron,name:datev_export_xml.cron_create_datev_export
 msgid "DATEV XML: Create Export File"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model,name:datev_export_xml.model_datev_zip_generator
 msgid "DATEV ZIP Generator"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid ""
 "Data Insufficient!\n"
 "Please select Period or at least Start Date."
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_zip_generator.py:0
 #, python-format
 msgid ""
 "Data Insufficient!\n"
 "You have to fill the address for partner of invoice %s. The partner address has to have official company name!"
 msgstr ""
 
@@ -249,21 +245,15 @@
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_res_company__datev_export_state
 #: model:ir.model.fields,field_description:datev_export_xml.field_res_config_settings__datev_export_state
 msgid "Datev Export State"
 msgstr ""
 
 #. module: datev_export_xml
-#: model:ir.model.fields,field_description:datev_export_xml.field_account_bank_statement_line__datev_validation
-#: model:ir.model.fields,field_description:datev_export_xml.field_account_move__datev_validation
-#: model:ir.model.fields,field_description:datev_export_xml.field_account_payment__datev_validation
-msgid "Datev Validation"
-msgstr ""
-
-#. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/res_company.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__res_company__datev_default_period__day
 #, python-format
 msgid "Day"
 msgstr ""
 
 #. module: datev_export_xml
@@ -301,39 +291,42 @@
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.datev_export_view_kanban
 msgid "Document(s)"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__datev_export_xml__state__done
 #, python-format
 msgid "Done"
 msgstr ""
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "Download File"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__datev_export_xml__state__draft
 #, python-format
 msgid "Draft"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__exception_info
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "Exception Info"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid "Exception while creating DATEV-Export file!"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__export_invoice
@@ -354,26 +347,28 @@
 #: model:ir.model.fields,field_description:datev_export_xml.field_account_bank_statement_line__datev_exported
 #: model:ir.model.fields,field_description:datev_export_xml.field_account_move__datev_exported
 #: model:ir.model.fields,field_description:datev_export_xml.field_account_payment__datev_exported
 msgid "Exported to Datev"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__datev_export_xml__state__failed
 #, python-format
 msgid "Failed"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__datev_filesize
 msgid "Filesize"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid ""
 "Filtered Export of %(count)s Documents\n"
 " Date Range: %(start)s-%(end)s\n"
 "Types: %(types)s"
 msgstr ""
@@ -421,15 +416,14 @@
 #. module: datev_export_xml
 #: model:ir.model.fields,help:datev_export_xml.field_datev_export_xml__activity_exception_icon
 msgid "Icon to indicate an exception activity."
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model.fields,help:datev_export_xml.field_datev_export_xml__message_needaction
-#: model:ir.model.fields,help:datev_export_xml.field_datev_export_xml__message_unread
 msgid "If checked, new messages require your attention."
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model.fields,help:datev_export_xml.field_datev_export_xml__message_has_error
 msgid "If checked, some messages have a delivery error."
 msgstr ""
@@ -445,14 +439,15 @@
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.res_config_settings_view_form
 msgid ""
 "If set, the invoices are marked as exported when finishing a Datev export.\n"
 "                            Only not yet exported invoices are suggested for next Datev export."
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid "Included Invoices"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__invoice_ids
@@ -472,20 +467,22 @@
 
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__message_is_follower
 msgid "Is Follower"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid "It's not allowed to set a running export to draft!"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid "It's not allowed to set an already running export to pending!"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model,name:datev_export_xml.model_account_move
@@ -514,14 +511,15 @@
 
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__message_main_attachment_id
 msgid "Main Attachment"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid ""
 "Manually Doc Export of %(count)s Documents \n"
 "Numbers: %(names)s"
 msgstr ""
 
@@ -537,14 +535,15 @@
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "Manually Selected Documents"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid "Manually set to Done by %s!"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:res.groups,name:datev_export_xml.group_datev_export_status
@@ -558,22 +557,24 @@
 
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__message_ids
 msgid "Messages"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid ""
 "Missing Data\n"
 "Please choose which documents you want to export!"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/res_company.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__res_company__datev_default_period__month
 #, python-format
 msgid "Month"
 msgstr ""
 
 #. module: datev_export_xml
@@ -583,19 +584,14 @@
 
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__name
 msgid "Name"
 msgstr ""
 
 #. module: datev_export_xml
-#: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__activity_calendar_event_id
-msgid "Next Activity Calendar Event"
-msgstr ""
-
-#. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__activity_date_deadline
 msgid "Next Activity Deadline"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__activity_summary
 msgid "Next Activity Summary"
@@ -603,20 +599,22 @@
 
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__activity_type_id
 msgid "Next Activity Type"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_zip_generator.py:0
 #, python-format
 msgid "No Invoices Selected!"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid "No invoices/refunds for export!"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model.fields,help:datev_export_xml.field_datev_export_xml__client_number
@@ -636,83 +634,71 @@
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__message_has_error_counter
 msgid "Number of errors"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model.fields,help:datev_export_xml.field_datev_export_xml__message_needaction_counter
-msgid "Number of messages which requires an action"
+msgid "Number of messages requiring action"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:ir.model.fields,help:datev_export_xml.field_datev_export_xml__message_has_error_counter
 msgid "Number of messages with delivery error"
 msgstr ""
 
 #. module: datev_export_xml
-#: model:ir.model.fields,help:datev_export_xml.field_datev_export_xml__message_unread_counter
-msgid "Number of unread messages"
-msgstr ""
-
-#. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/res_company.py:0
 #: code:addons/datev_export_xml/models/res_company.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__res_company__datev_customer_order_ref__odoo
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__res_company__datev_vendor_order_ref__odoo
 #, python-format
 msgid "Odoo Reference"
 msgstr ""
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "Partner"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/res_company.py:0
 #: code:addons/datev_export_xml/models/res_company.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__res_company__datev_customer_order_ref__partner
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__res_company__datev_vendor_order_ref__partner
 #, python-format
 msgid "Partner Reference"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/res_company.py:0
 #: code:addons/datev_export_xml/models/res_company.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__res_company__datev_customer_order_ref__payment
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__res_company__datev_vendor_order_ref__payment
 #, python-format
 msgid "Payment Reference"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__datev_export_xml__state__pending
 #, python-format
 msgid "Pending"
 msgstr ""
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.datev_export_view_kanban
 msgid "Period:"
 msgstr ""
 
 #. module: datev_export_xml
-#: code:addons/datev_export_xml/models/datev_export.py:0
-#, python-format
-msgid "Problematic Invoices"
-msgstr ""
-
-#. module: datev_export_xml
-#: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__problematic_invoices_count
-msgid "Problematic Invoices Count"
-msgstr ""
-
-#. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "Ready for Export"
 msgstr ""
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "Recreate DATEV Export File"
@@ -735,14 +721,15 @@
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "Restart"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__datev_export_xml__state__running
 #, python-format
 msgid "Running"
 msgstr ""
 
 #. module: datev_export_xml
@@ -789,27 +776,29 @@
 msgid ""
 "The creation of the file will be done in background and may take some time! "
 "When the file is created or an exception occurs, an activity will be applied"
 " to you."
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid ""
 "The numbers of invoices/refunds is limited to 4999 by DATEV! Please decrease"
 " the number of documents or deactivate Check XSD."
 msgstr ""
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "The zip file can be downloaded here after creation!"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_xml_generator.py:0
 #, python-format
 msgid "There are multiple taxes in the following invoices: %(invoices)s"
 msgstr ""
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
@@ -828,50 +817,28 @@
 
 #. module: datev_export_xml
 #: model:ir.model.fields,help:datev_export_xml.field_datev_export_xml__activity_exception_decoration
 msgid "Type of the exception activity on record."
 msgstr ""
 
 #. module: datev_export_xml
-#: model:product.product,uom_name:datev_export_xml.product_datev_01
-#: model:product.product,uom_name:datev_export_xml.product_datev_02
-#: model:product.template,uom_name:datev_export_xml.product_datev_01_product_template
-#: model:product.template,uom_name:datev_export_xml.product_datev_02_product_template
-msgid "Units"
-msgstr ""
-
-#. module: datev_export_xml
-#: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__message_unread
-msgid "Unread Messages"
-msgstr ""
-
-#. module: datev_export_xml
-#: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__message_unread_counter
-msgid "Unread Messages Counter"
-msgstr ""
-
-#. module: datev_export_xml
 #: model:ir.model.fields,help:datev_export_xml.field_res_company__datev_default_period
 #: model:ir.model.fields,help:datev_export_xml.field_res_config_settings__datev_default_period
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.res_config_settings_view_form
 msgid "Used to get default values for start and stop date at DATEV Export!"
 msgstr ""
 
 #. module: datev_export_xml
-#: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
-msgid "Validate"
-msgstr ""
-
-#. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_res_company__datev_vendor_order_ref
 #: model:ir.model.fields,field_description:datev_export_xml.field_res_config_settings__datev_vendor_order_ref
 msgid "Vendor Order Reference"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__datev_export_xml__export_type__in
 #, python-format
 msgid "Vendors"
 msgstr ""
 
 #. module: datev_export_xml
@@ -881,14 +848,15 @@
 
 #. module: datev_export_xml
 #: model:ir.model.fields,help:datev_export_xml.field_datev_export_xml__website_message_ids
 msgid "Website communication history"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/res_company.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__res_company__datev_default_period__week
 #, python-format
 msgid "Week"
 msgstr ""
 
 #. module: datev_export_xml
@@ -897,42 +865,47 @@
 #: model:ir.model.fields,help:datev_export_xml.field_account_payment__datev_exported
 msgid ""
 "When finishing a datev export the processed invoices are marked as exported.\n"
 "If you need to export the invoices again, set this field to False."
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_xml_generator.py:0
 #, python-format
 msgid ""
 "Wrong Data in XML file!\n"
 "Try to solve the problem with '%s' according to message below:\n"
 "\n"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/res_company.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__res_company__datev_default_period__year
 #, python-format
 msgid "Year"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid "You can't export incoming and outgoing invoices at the same time"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid "You need to choose an export type (Customer/Vendor)!"
 msgstr ""
 
 #. module: datev_export_xml
+#. odoo-python
 #: code:addons/datev_export_xml/models/datev_export.py:0
 #, python-format
 msgid ""
 "You need to choose which documents types (Invoices/Refunds) you want to "
 "export!"
 msgstr ""
```

## odoo/addons/datev_export_xml/i18n/de.po

```diff
@@ -65,19 +65,14 @@
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "<span class=\"o_stat_text\">Invoices</span>"
 msgstr "<span class=\"o_stat_text\">Rechnungen</span>"
 
 #. module: datev_export_xml
-#: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
-msgid "<span class=\"o_stat_text\">Problems</span>"
-msgstr ""
-
-#. module: datev_export_xml
 #: model:product.product,name:datev_export_xml.product_datev_01
 #: model:product.template,name:datev_export_xml.product_datev_01_product_template
 msgid "A-IT-Consulting"
 msgstr ""
 
 #. module: datev_export_xml
 #: model:product.product,name:datev_export_xml.product_datev_02
@@ -274,21 +269,14 @@
 #. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_res_company__datev_export_state
 #: model:ir.model.fields,field_description:datev_export_xml.field_res_config_settings__datev_export_state
 msgid "Datev Export State"
 msgstr "Datev Exportstatus"
 
 #. module: datev_export_xml
-#: model:ir.model.fields,field_description:datev_export_xml.field_account_bank_statement_line__datev_validation
-#: model:ir.model.fields,field_description:datev_export_xml.field_account_move__datev_validation
-#: model:ir.model.fields,field_description:datev_export_xml.field_account_payment__datev_validation
-msgid "Datev Validation"
-msgstr ""
-
-#. module: datev_export_xml
 #: code:addons/datev_export_xml/models/res_company.py:0
 #: model:ir.model.fields.selection,name:datev_export_xml.selection__res_company__datev_default_period__day
 #, python-format
 msgid "Day"
 msgstr "Tag"
 
 #. module: datev_export_xml
@@ -723,25 +711,14 @@
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.datev_export_view_kanban
 msgid "Period:"
 msgstr "Periode:"
 
 #. module: datev_export_xml
-#: code:addons/datev_export_xml/models/datev_export.py:0
-#, python-format
-msgid "Problematic Invoices"
-msgstr ""
-
-#. module: datev_export_xml
-#: model:ir.model.fields,field_description:datev_export_xml.field_datev_export_xml__problematic_invoices_count
-msgid "Problematic Invoices Count"
-msgstr ""
-
-#. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "Ready for Export"
 msgstr "Bereit zum Export"
 
 #. module: datev_export_xml
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
 msgid "Recreate DATEV Export File"
@@ -895,19 +872,14 @@
 #: model_terms:ir.ui.view,arch_db:datev_export_xml.res_config_settings_view_form
 msgid "Used to get default values for start and stop date at DATEV Export!"
 msgstr ""
 "Wird verwendet, um Standardwerte für Start- und Enddatum beim DATEV-Export "
 "abzurufen!"
 
 #. module: datev_export_xml
-#: model_terms:ir.ui.view,arch_db:datev_export_xml.view_datev_export_form
-msgid "Validate"
-msgstr ""
-
-#. module: datev_export_xml
 #: model:ir.model.fields,field_description:datev_export_xml.field_res_company__datev_vendor_order_ref
 #: model:ir.model.fields,field_description:datev_export_xml.field_res_config_settings__datev_vendor_order_ref
 msgid "Vendor Order Reference"
 msgstr "Lieferantenbestellreferenz"
 
 #. module: datev_export_xml
 #: code:addons/datev_export_xml/models/datev_export.py:0
```

## odoo/addons/datev_export_xml/models/__init__.py

```diff
@@ -1,14 +1,15 @@
 # Copyright (C) 2022-2023 initOS GmbH
 # Copyright (C) 2019 sewisoft (sewisoft.de)
 # Copyright (C) 2010 big-consulting GmbH (www.openbig.de)
 # Copyright (C) 2010 OpenGLOBE Grzegorz Grzelak (www.openglobe.pl)
 # @author Guenter Selbert <guenter.selbert@sewisoft.de>
 # @author Thorsten Vocks
 # @author Grzegorz Grzelak
+# @author Jan Sierpina <jan.sierpina@solvti.com>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 
 # isort: disable
 from . import (
     account_move,
     datev_pdf_generator,
     datev_xml_generator,
```

## odoo/addons/datev_export_xml/models/account_move.py

```diff
@@ -1,7 +1,8 @@
+# Copyright (C) 2024 Solvti sp. z o.o. (https://solvti.pl)
 # Copyright (C) 2022-2023 initOS GmbH
 # Copyright (C) 2019 sewisoft (sewisoft.de)
 # Copyright (C) 2010-2023 big-consulting GmbH (www.openbig.de)
 # Copyright (C) 2010 OpenGLOBE Grzegorz Grzelak (www.openglobe.pl)
 # @author Guenter Selbert <guenter.selbert@sewisoft.de>
 # @author Thorsten Vocks
 # @author Grzegorz Grzelak
@@ -24,25 +25,28 @@
             self.price_unit * (1 - (self.discount / 100.0)),
             self.currency_id,
             self.quantity,
             product=self.product_id,
             partner=self.move_id.partner_id,
         )
 
+    def datev_analytic_account(self):
+        self.ensure_one()
+        return self.analytic_line_ids[:1].account_id
+
 
 class AccountMove(models.Model):
     _inherit = "account.move"
 
     datev_exported = fields.Boolean(
         string="Exported to Datev",
         copy=False,
         help="When finishing a datev export the processed invoices are marked as exported.\n"
         "If you need to export the invoices again, set this field to False.",
     )
-    datev_validation = fields.Text()
 
     def datev_format_total(self, value, prec=2):
         self.ensure_one()
         return (
             f"{-value:.{prec}f}"
             if self.move_type.endswith("_refund")
             else f"{value:.{prec}f}"
```

## odoo/addons/datev_export_xml/models/datev_export.py

```diff
@@ -1,7 +1,8 @@
+# Copyright (C) 2024 Solvti sp. z o.o. (https://solvti.pl)
 # Copyright (C) 2022-2023 initOS GmbH
 # Copyright (C) 2019 sewisoft (sewisoft.de)
 # Copyright (C) 2010-2023 big-consulting GmbH (www.openbig.de)
 # Copyright (C) 2010 OpenGLOBE Grzegorz Grzelak (www.openglobe.pl)
 # @author Guenter Selbert <guenter.selbert@sewisoft.de>
 # @author Thorsten Vocks
 # @author Grzegorz Grzelak
@@ -117,17 +118,14 @@
         "ZIP filename", readonly=True, related="attachment_id.name"
     )
     datev_filesize = fields.Char(
         "Filesize",
         compute="_compute_datev_filesize",
     )
 
-    problematic_invoices_count = fields.Integer(
-        compute="_compute_problematic_invoices_count"
-    )
     invoice_ids = fields.Many2many(comodel_name="account.move", string="Invoices")
     invoices_count = fields.Integer(compute="_compute_invoices_count", store=True)
 
     manually_document_selection = fields.Boolean(default=False)
     exception_info = fields.Text(readonly=True)
 
     state = fields.Selection(
@@ -147,21 +145,14 @@
 
     @api.depends("attachment_id", "attachment_id.datas")
     def _compute_datev_filesize(self):
         for r in self.with_context(bin_size=True):
             r.datev_filesize = r.datev_file
 
     @api.depends("invoice_ids")
-    def _compute_problematic_invoices_count(self):
-        for r in self:
-            r.problematic_invoices_count = len(
-                r.invoice_ids.filtered("datev_validation")
-            )
-
-    @api.depends("invoice_ids")
     def _compute_invoices_count(self):
         for r in self:
             r.invoices_count = len(r.invoice_ids)
 
     @api.constrains("export_invoice", "export_refund", "export_type")
     def validate_types(self):
         if self.manually_document_selection:
@@ -253,16 +244,14 @@
                 )
                 self.write({"attachment_id": attachment.id, "state": "done"})
         except Exception as e:
             msg = e.name if hasattr(e, "name") else str(e)
             self.write({"exception_info": msg, "state": "failed"})
             _logger.exception(e)
 
-        self._compute_problematic_invoices_count()
-
     @api.model
     def cron_run_pending_export(self):
         """
         A Cron job can't execute parallel, so if we run this cron and there is
         currently a running datev export we can restart it.
         """
         hanging_datev_exports = self.search(
@@ -350,30 +339,14 @@
                 "res_model_id": self.env.ref(
                     "datev_export_xml.model_datev_export_xml"
                 ).id,
                 "user_id": self.create_uid.id,
             }
         )
 
-    def action_validate(self):
-        generator = self.env["datev.xml.generator"]
-        for invoice in self.invoice_ids:
-            try:
-                generator._check_invoices(invoice)
-            except ValueError as e:
-                invoice.datev_validation = str(e)
-                continue
-
-            try:
-                generator.generate_xml_invoice(invoice)
-            except UserError:
-                continue
-
-        self._compute_problematic_invoices_count()
-
     def action_done(self):
         self.filtered(lambda r: r.state in ["running", "failed"]).write(
             {
                 "exception_info": _("Manually set to Done by %s!") % self.env.user,
                 "state": "done",
             }
         )
@@ -406,44 +379,33 @@
         for r in self:
             if r.state == "running":
                 raise ValidationError(
                     _("It's not allowed to set a running export to draft!")
                 )
             r.write({"state": "draft"})
 
-    def action_show_invalid_invoices_view(self):
-        tree_view = self.env.ref("datev_export_xml.view_move_datev_validation")
-        return {
-            "type": "ir.actions.act_window",
-            "view_mode": "tree,form",
-            "views": [[tree_view.id, "tree"], [False, "form"]],
-            "res_model": "account.move",
-            "target": "current",
-            "name": _("Problematic Invoices"),
-            "domain": [("id", "in", self.invoice_ids.filtered("datev_validation").ids)],
-        }
-
     def action_show_related_invoices_view(self):
         return {
             "type": "ir.actions.act_window",
+            "view_type": "form",
             "view_mode": "tree,kanban,form",
             "res_model": "account.move",
             "target": "current",
             "name": _("Included Invoices"),
             "domain": [("id", "in", self.invoice_ids.ids)],
         }
 
     def unlink(self):
         attachments = self.mapped("attachment_id")
         res = super().unlink()
         attachments.exists().unlink()
         return res
 
     def write(self, vals):
-        res = super().write(vals)
+        super().write(vals)
         if any(
             r in vals
             for r in [
                 "export_type",
                 "export_invoice",
                 "export_refund",
                 "date_start",
@@ -452,15 +414,15 @@
         ):
             for r in self:
                 if r.manually_document_selection:
                     continue
                 super(DatevExport, r).write(
                     {"invoice_ids": [(6, 0, r.get_invoices().ids)]}
                 )
-        return res
+        return True
 
     @api.model
     def create(self, vals):
         r = super().create(vals)
         if not r.manually_document_selection:
             r.invoice_ids = [(6, 0, r.get_invoices().ids)]
         return r
```

## odoo/addons/datev_export_xml/models/datev_pdf_generator.py

```diff
@@ -1,7 +1,8 @@
+# Copyright (C) 2024 Solvti sp. z o.o. (https://solvti.pl)
 # Copyright (C) 2022-2023 initOS GmbH
 # Copyright (C) 2019 sewisoft (sewisoft.de)
 # Copyright (C) 2010-2023 big-consulting GmbH (www.openbig.de)
 # Copyright (C) 2010 OpenGLOBE Grzegorz Grzelak (www.openglobe.pl)
 # @author Guenter Selbert <guenter.selbert@sewisoft.de>
 # @author Thorsten Vocks
 # @author Grzegorz Grzelak
@@ -49,8 +50,8 @@
         report = self.env["ir.actions.report"].search(
             [
                 ("model", "=", "account.move"),
                 ("report_name", "=", self.report_name()),
             ],
         )
         if report:
-            return report._render(invoice.ids)[0]
+            return self.env["ir.actions.report"]._render(report, invoice.ids)[0]
```

## odoo/addons/datev_export_xml/models/datev_xml_generator.py

```diff
@@ -1,7 +1,8 @@
+# Copyright (C) 2024 Solvti sp. z o.o. (https://solvti.pl)
 # Copyright (C) 2022-2023 initOS GmbH
 # Copyright (C) 2019 sewisoft (sewisoft.de)
 # Copyright (C) 2010-2023 big-consulting GmbH (www.openbig.de)
 # Copyright (C) 2010 OpenGLOBE Grzegorz Grzelak (www.openglobe.pl)
 # @author Guenter Selbert <guenter.selbert@sewisoft.de>
 # @author Thorsten Vocks
 # @author Grzegorz Grzelak
@@ -19,31 +20,24 @@
 
 
 class DatevXmlGenerator(models.AbstractModel):
     _name = "datev.xml.generator"
     _description = "DATEV XML Generator"
 
     @api.model
-    def check_xml_file(self, doc_name, root, xsd=None, invoice=None):
+    def check_xml_file(self, doc_name, root, xsd=None):
         if not xsd:
             xsd = "Document_v050.xsd"
 
         schema = tools.file_open(f"datev_export_xml/xsd_files/{xsd}")
         try:
-            if invoice:
-                invoice.datev_validation = False
-
             schema = etree.XMLSchema(etree.parse(schema))
             schema.assertValid(root)
         except (etree.DocumentInvalid, etree.XMLSyntaxError) as e:
             _logger.warning(etree.tostring(root))
-
-            if invoice:
-                invoice.datev_validation = str(e)
-
             raise UserError(
                 _(
                     "Wrong Data in XML file!\nTry to solve the problem with "
                     "'%s' according to message below:\n\n"
                 )
                 % doc_name
                 + tools.ustr(e)
@@ -66,17 +60,19 @@
                 )
             )
 
     @api.model
     def generate_xml_document(self, invoices, check_xsd=True):
         self._check_invoices(invoices)
 
-        template = self.env.ref("datev_export_xml.export_invoice_document")
         root = etree.fromstring(
-            template._render({"docs": invoices, "company": self.env.company}),
+            self.env["ir.ui.view"]._render_template(
+                "datev_export_xml.export_invoice_document",
+                {"docs": invoices, "company": self.env.company},
+            ),
             parser=etree.XMLParser(remove_blank_text=True),
         )
 
         if check_xsd:
             self.check_xml_file(
                 "document.xml",
                 root,
@@ -84,22 +80,22 @@
             )
 
         return "document.xml", etree.tostring(root)
 
     @api.model
     def generate_xml_invoice(self, invoice, check_xsd=True):
         doc_name = re.sub(r"[^a-zA-Z0-9_\-.()]", "", f"{invoice.name}.xml")
-        template = self.env.ref("datev_export_xml.export_invoice")
         root = etree.fromstring(
-            template._render({"doc": invoice}),
+            self.env["ir.ui.view"]._render_template(
+                "datev_export_xml.export_invoice", {"doc": invoice}
+            ),
             parser=etree.XMLParser(remove_blank_text=True),
         )
 
         if check_xsd:
             self.check_xml_file(
                 doc_name,
                 root,
                 "Belegverwaltung_online_invoice_v050.xsd",
-                invoice=invoice,
             )
 
         return doc_name, etree.tostring(root)
```

## odoo/addons/datev_export_xml/readme/CONTRIBUTORS.rst

```diff
@@ -1,3 +1,4 @@
 * Thorsten Vocks (OpenBIG.org)
 * Guenter Selbert (sewisoft.de)
 * initOS GmbH (initOS.com)
+* Solvti sp. z o.o. (https://solvti.pl)
```

## odoo/addons/datev_export_xml/static/description/index.html

```diff
@@ -362,17 +362,17 @@
 <div class="document" id="datev-export-xml">
 <h1 class="title">Datev Export XML</h1>
 
 <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 !! This file is generated by oca-gen-addon-readme !!
 !! changes will be overwritten.                   !!
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-!! source digest: sha256:e862a39f0d6e3edb2f3e8a9999ac7014fc03ddc8566245b09cb1e35e87313a40
+!! source digest: sha256:c149868b863e0d8455b3173baae0272f1f0dc4e7568f77c25d70af0adc10cf4f
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
-<p><a class="reference external image-reference" href="https://odoo-community.org/page/development-status"><img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png" /></a> <a class="reference external image-reference" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external image-reference" href="https://github.com/OCA/l10n-germany/tree/15.0/datev_export_xml"><img alt="OCA/l10n-germany" src="https://img.shields.io/badge/github-OCA%2Fl10n--germany-lightgray.png?logo=github" /></a> <a class="reference external image-reference" href="https://translation.odoo-community.org/projects/l10n-germany-15-0/l10n-germany-15-0-datev_export_xml"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external image-reference" href="https://runboat.odoo-community.org/builds?repo=OCA/l10n-germany&amp;target_branch=15.0"><img alt="Try me on Runboat" src="https://img.shields.io/badge/runboat-Try%20me-875A7B.png" /></a></p>
+<p><a class="reference external image-reference" href="https://odoo-community.org/page/development-status"><img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png" /></a> <a class="reference external image-reference" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external image-reference" href="https://github.com/OCA/l10n-germany/tree/16.0/datev_export_xml"><img alt="OCA/l10n-germany" src="https://img.shields.io/badge/github-OCA%2Fl10n--germany-lightgray.png?logo=github" /></a> <a class="reference external image-reference" href="https://translation.odoo-community.org/projects/l10n-germany-16-0/l10n-germany-16-0-datev_export_xml"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external image-reference" href="https://runboat.odoo-community.org/builds?repo=OCA/l10n-germany&amp;target_branch=16.0"><img alt="Try me on Runboat" src="https://img.shields.io/badge/runboat-Try%20me-875A7B.png" /></a></p>
 <div class="section" id="odoo-export-to-datev-xml">
 <h1>Odoo Export to DATEV XML</h1>
 <p>The datev_export_xml module allows to export invoices and bills with their origin digitized receipts
 in order to transmitt structured accounting data via file-based DATEV XML format. The transfer of these files created by this module to the invoice books in DATEV Unternehmen Online can be done currently via the free DATEV document transfer app.</p>
 <p>The DATEV XML interface cannot cover use cases such as:</p>
 <ul class="simple">
 <li>Pure G/L account postings (G/L account to G/L account, e.g. payment postings)</li>
@@ -384,91 +384,91 @@
 <div class="section" id="usage">
 <h1>Usage</h1>
 <p>Normally you will use the <strong>Export Wizard</strong> for exporting a time period. There is also a manual export option available directly from the contextual actions of the invoices and bills list view.</p>
 <div class="section" id="export-by-wizard">
 <h2>Export by Wizard</h2>
 <p>The main export usage will be done by the <strong>DATEV Export</strong> Wizard, which can be executed from the menu item located at
 <strong>Invoicing &gt; Reporting &gt; Datev Export</strong>.</p>
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_wizard.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_wizard.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_wizard.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_wizard.png" style="width: 100%;" />
 <p>At the wizard you can filter by <em>Invoice types</em> and limit the <em>time range</em>. At the <em>General Settings</em> you can choose your company and if you want to validate the XML-Export file by the provided XSD-Schema (Recommended).</p>
 <div class="admonition important">
 <p class="first admonition-title">Important</p>
 <p class="last">It’s very important for a valid import at DATEV that the export file meets the requirements! So make sure that
 these flag is set when you want to upload your <em>ZIP-Exportfile</em> on a productive DATEV system.</p>
 </div>
 <p>Click on the button <strong>Create DATEV Export File</strong> to create the zip file for the selected filter at background.</p>
 </div>
 <div class="section" id="manual-export">
 <h2>Manual Export</h2>
 <p>It is also possible to export selected invoice(s) or refund(s) from the Invoices / Refunds <em>Action-Dropdown</em>. As result you can download a zip file ready to transfer to DATEV Unternehmen Online. The file contains the selected invoices / refunds as xml and pdf file and a document file which summarizes and classify all included files. This method can be handy if an exception occurs while generating a huge amount of invoices / refunds via the wizard, to fix and validate the related invoice / refund before running the wizard again.</p>
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_wizard_manual.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_wizard_manual.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_wizard_manual.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_wizard_manual.png" style="width: 100%;" />
 <p>If you create a manual export from the vendor bills list the export type is „Vendors“. If you create this export from the customer invoices the export type is „Customers“.</p>
 <p>If you have the Check XSD option, it’s possible that some errors occurs.</p>
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_exception.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_exception.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_exception.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_exception.png" style="width: 100%;" />
 <p>On errors, an activity will be applied to you for fixing the problem. If you have fixed the problem, just restart the wizard, or click on „Recreate DATEV Export File“. On success you can download the generated zip file from the wizards <strong>Download DATEV File</strong> section.</p>
 <div class="admonition hint">
 <p class="first admonition-title">Hint</p>
 <p class="last">The duration of the file creation depends on the number of invoices / refunds for that you will create the zip file!</p>
 </div>
 </div>
 </div>
 <div class="section" id="import-into-datev">
 <h1>Import into DATEV</h1>
 <div class="section" id="requirements">
 <h2>Requirements</h2>
 <p>1.) DATEV Unternehmen Online is activated for the client. (In order to simply import the receipts, it is not necessary for the client to have their own access to DATEV Unternehmen Online). Please ensure you have configured the following “Advanced Settings” in DATEV Unternehmen Online in order to allow to import split account moves with many invoice lines from Invoices / Bills:</p>
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen.png" style="width: 100%;" />
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen_rechnungsdatenschnittstelle.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen_rechnungsdatenschnittstelle.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen_rechnungsdatenschnittstelle.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen_rechnungsdatenschnittstelle.png" style="width: 100%;" />
 <p>2.) The DATEV Belegtransfer program is installed and open.</p>
 </div>
 <div class="section" id="transmission-to-the-tax-advisor">
 <h2>Transmission to the tax advisor</h2>
 <p>The ZIP file with the document images is first exported from Odoo and saved on the client’s computer. The files can then be transferred to the tax consultant in 3 different ways:</p>
 <p>1st way: Transfer receipts and posting records with DATEV Belegtransfer</p>
 <p>The client uploads both the ZIP file with the receipts and the CSV file with the posting records (posting batch) to DATEV Belegtransfer. The ZIP file with the receipts will be imported automatically. The invoices with the document data end up in DATEV Unternehmen Online. A provision for the tax consultant can now be made via the receipts app and the tile “Outgoing invoices” or “Incoming invoices”.</p>
 <p>2nd way: Transfer receipts and posting records outside of DATEV
 The client transfers both the ZIP file with the receipts independently of DATEV receipt transfer, e.g. by e-mail or on a USB stick. The tax consultant imports the ZIP file with the documents into DATEV document transfer and then fetches the batch of postings provided from the office.</p>
 </div>
 <div class="section" id="datev-belegtransfer">
 <h2>DATEV Belegtransfer</h2>
 <p>To transfer the .zip archive from Odoo, the DATEV document transfer program „DATEV Belegtransfer“ must be installed and open. In the opened DATEV Belegtransfer application you can now click on “Add directories” and make the following settings:</p>
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_0.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_0.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_0.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_0.png" style="width: 100%;" />
 <p>1.) “Create directories” dialog: Specify where the directories should be saved, how the company directory should be named and whether you want to delete or archive the source files after the upload. Then click on “Save”.</p>
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_1.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_1.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_1.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_1.png" style="width: 100%;" />
 <p>2.) Now define the directories that are to be used by first selecting the client and then clicking on “Next”. You can now use the two following suggested entries and configure them as follows:
 * Activate <em>Rechnungseingang</em> “Create as directory”. Also activate “Configure as XML interface”. To activate the XML interface, slide the slider in the “Configure as XML interface” column to the right. Then it is green. The setting is important for the transfer of the files. DATEV only reads in the receipts correctly with an activated XML interface.
 * Activate <em>Rechnungsausgang</em> “Create as directory”. Also activate “Configure as XML interface”. To activate the XML interface, slide the slider in the “Configure as XML interface” column to the right. Then it is also green.</p>
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verezcihnis_anlegen_2.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verezcihnis_anlegen_2.png" style="width: 100%;" />
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_3.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_3.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verezcihnis_anlegen_2.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verezcihnis_anlegen_2.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_3.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_3.png" style="width: 100%;" />
 </div>
 <div class="section" id="transfer-files">
 <h2>Transfer files</h2>
 <p>1.) Double-click on either the “Rechnungseingang” or “Rechnungsausgang” directory. The storage location for the files to be uploaded opens. Place the file in the storage location. Make sure you put the files in the right directory:
 * ZIP file for outgoing invoices from Odoo in the directory with activated XML interface „Ausgangsrechnungen“.
 * ZIP file for incoming invoices from Odoo in the directory with activated XML interface „Eingangsrechnungen”.
 * EXCURSION: if you want to upload .csv files, e.g. exported from the datev_export_acii application, copy them to a directory without an activated XML interface (in the screenshot “Other”)</p>
 <p>You can tell for which directory the XML interface is activated by the interface symbol at the beginning of the line. If the symbol is displayed, the XML interface is activated in the directory (it should therefore be active in the two directories “Eingangsrechnungen” and “Ausgangsrechnungen”).</p>
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_belege_hochladen.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_belege_hochladen.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_belege_hochladen.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_belege_hochladen.png" style="width: 100%;" />
 <p>2.) Right-click on the directory. A new menu will open. Click Upload Receipts. Uploading deletes the files from the directory or moves them to an archive folder. You can specify which option should apply under Settings.</p>
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_belege_hochladen_dateiauswahl.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_belege_hochladen_dateiauswahl.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_belege_hochladen_dateiauswahl.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_belege_hochladen_dateiauswahl.png" style="width: 100%;" />
 <p>3.) To check whether the upload was successful, right-click on the directory. A new menu will open. Click Open Log. For more details click on “Import Log”</p>
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_timestamp.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_timestamp.png" style="width: 100%;" />
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_auswahl.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_auswahl.png" style="width: 100%;" />
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_liste.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_liste.png" style="width: 100%;" />
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_details.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_details.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_timestamp.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_timestamp.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_auswahl.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_auswahl.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_liste.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_liste.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_details.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_details.png" style="width: 100%;" />
 <p>4.) Repeat steps 1 to 3 with the other directory (either for A/R invoices / A/R invoices if you want to upload those as well).</p>
 <p>Check the import of the receipts in DATEV Unternehmen Online:</p>
 <p>DATEV Unternehmen Online automatically recognizes that the contents of the ZIP file are receipts that belong to a batch of bookings and imports them automatically. Further actions by the tax advisor are not required. If the receipts are displayed in the DATEV Unternehmen Online inbox, your client has transferred the ZIP file with the receipts to a directory with a deactivated XML interface. Ask your client to transfer the ZIP file with the receipts again to a directory with an activated XML interface. You can delete the receipts in the inbox. You can check whether the automatic receipt import worked correctly under: Applications → Receipts → Right side menu → Logs → Import → Display import log → Select import date and “Display”</p>
 </div>
 <div class="section" id="download-booking-records">
 <h2>Download booking records</h2>
 <p>1.) In DATEV Unternehmen Online:</p>
 <p>The “Provide” („Bereitstellen“)  position is on the Receipts start page in DATEV Unternehmen Online. The batch of bookings exported from Odoo and uploaded via DATEV document transfer for „Eingangsrechnungen“ and „Ausgangsrechnugnen“ can be marked here, in order to make them ready for collection by clicking on “Provide” for DATEV Kanzlei-Rechnungswesen. With the appropriate authorization, this process can be carried out by the client himself or by the tax consultant.</p>
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_uo_bereitstellen_1.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_uo_bereitstellen_1.png" style="width: 100%;" />
-<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_uo_bereitstellen_2.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_uo_bereitstellen_2.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_uo_bereitstellen_1.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_uo_bereitstellen_1.png" style="width: 100%;" />
+<img alt="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_uo_bereitstellen_2.png" src="https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_uo_bereitstellen_2.png" style="width: 100%;" />
 <p>2.) In DATEV Kanzlei-Rechnungswesen, this provided data must be retrieved via client supplement.
 The procedure is as follows:
 Under “Preparatory activities” in your overview on the left, click on “Add client”.
 Select the item “Cash register/invoice stack from cash book/receipts online”.
 The process is started by clicking on “Get data”.
 The “Edit booking suggestions” function is located in your booking line. This allows you to generate the posting proposals with the voucher image.
 Select your stack and confirm your selection with “Ok”. You have to repeat this in the next menu. Now your booking suggestions are displayed with the original voucher images from Odoo and can be booked there.</p>
@@ -489,45 +489,47 @@
 </div>
 </div>
 <div class="section" id="bug-tracker">
 <h1>Bug Tracker</h1>
 <p>Bugs are tracked on <a class="reference external" href="https://github.com/OCA/l10n-germany/issues">GitHub Issues</a>.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us to smash it by providing a detailed and welcomed
-<a class="reference external" href="https://github.com/OCA/l10n-germany/issues/new?body=module:%20datev_export_xml%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>.</p>
+<a class="reference external" href="https://github.com/OCA/l10n-germany/issues/new?body=module:%20datev_export_xml%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>.</p>
 <p>Do not contact contributors directly about support or help with technical issues.</p>
 </div>
 <div class="section" id="credits">
 <h1>Credits</h1>
 <div class="section" id="authors">
 <h2>Authors</h2>
 <ul class="simple">
 <li>Guenter Selbert</li>
 <li>Thorsten Vocks</li>
 <li>Maciej Wichowski</li>
 <li>Daniela Scarpa</li>
 <li>Maria Sparenberg</li>
 <li>initOS GmbH</li>
+<li>Jan Sierpina</li>
 </ul>
 </div>
 <div class="section" id="contributors">
 <h2>Contributors</h2>
 <ul class="simple">
 <li>Thorsten Vocks (OpenBIG.org)</li>
 <li>Guenter Selbert (sewisoft.de)</li>
 <li>initOS GmbH (initOS.com)</li>
+<li>Solvti sp. z o.o. (<a class="reference external" href="https://solvti.pl">https://solvti.pl</a>)</li>
 </ul>
 </div>
 <div class="section" id="maintainers">
 <h2>Maintainers</h2>
 <p>This module is maintained by the OCA.</p>
 <a class="reference external image-reference" href="https://odoo-community.org"><img alt="Odoo Community Association" src="https://odoo-community.org/logo.png" /></a>
 <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.</p>
-<p>This module is part of the <a class="reference external" href="https://github.com/OCA/l10n-germany/tree/15.0/datev_export_xml">OCA/l10n-germany</a> project on GitHub.</p>
+<p>This module is part of the <a class="reference external" href="https://github.com/OCA/l10n-germany/tree/16.0/datev_export_xml">OCA/l10n-germany</a> project on GitHub.</p>
 <p>You are welcome to contribute. To learn how please visit <a class="reference external" href="https://odoo-community.org/page/Contribute">https://odoo-community.org/page/Contribute</a>.</p>
 </div>
 </div>
 </div>
 </body>
 </html>
```

### html2text {}

```diff
@@ -17,15 +17,15 @@
 ************ UUssaaggee ************
 Normally you will use the EExxppoorrtt WWiizzaarrdd for exporting a time period. There is
 also a manual export option available directly from the contextual actions of
 the invoices and bills list view.
 ********** EExxppoorrtt bbyy WWiizzaarrdd **********
 The main export usage will be done by the DDAATTEEVV EExxppoorrtt Wizard, which can be
 executed from the menu item located at IInnvvooiicciinngg >> RReeppoorrttiinngg >> DDaatteevv EExxppoorrtt.
-[https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/
+[https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/
 static/description/example_datev_export_wizard.png]
 At the wizard you can filter by IInnvvooiiccee ttyyppeess and limit the ttiimmee rraannggee. At the
 GGeenneerraall SSeettttiinnggss you can choose your company and if you want to validate the
 XML-Export file by the provided XSD-Schema (Recommended).
 Important
 It’s very important for a valid import at DATEV that the export file meets the
 requirements! So make sure that these flag is set when you want to upload your
@@ -36,21 +36,21 @@
 It is also possible to export selected invoice(s) or refund(s) from the
 Invoices / Refunds AAccttiioonn--DDrrooppddoowwnn. As result you can download a zip file ready
 to transfer to DATEV Unternehmen Online. The file contains the selected
 invoices / refunds as xml and pdf file and a document file which summarizes and
 classify all included files. This method can be handy if an exception occurs
 while generating a huge amount of invoices / refunds via the wizard, to fix and
 validate the related invoice / refund before running the wizard again.
-[https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/
+[https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/
 static/description/example_datev_export_wizard_manual.png]
 If you create a manual export from the vendor bills list the export type is
 „Vendors“. If you create this export from the customer invoices the export type
 is „Customers“.
 If you have the Check XSD option, it’s possible that some errors occurs.
-[https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/
+[https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/
 static/description/example_datev_export_exception.png]
 On errors, an activity will be applied to you for fixing the problem. If you
 have fixed the problem, just restart the wizard, or click on „Recreate DATEV
 Export File“. On success you can download the generated zip file from the
 wizards DDoowwnnllooaadd DDAATTEEVV FFiillee section.
 Hint
 The duration of the file creation depends on the number of invoices / refunds
@@ -58,17 +58,17 @@
 ************ IImmppoorrtt iinnttoo DDAATTEEVV ************
 ********** RReeqquuiirreemmeennttss **********
 1.) DATEV Unternehmen Online is activated for the client. (In order to simply
 import the receipts, it is not necessary for the client to have their own
 access to DATEV Unternehmen Online). Please ensure you have configured the
 following “Advanced Settings” in DATEV Unternehmen Online in order to allow to
 import split account moves with many invoice lines from Invoices / Bills:
-[https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/
+[https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/
 static/description/datev_belegtransfer_erweiterte_einstellungen.png][https://
-raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/
+raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/
 description/
 datev_belegtransfer_erweiterte_einstellungen_rechnungsdatenschnittstelle.png]
 2.) The DATEV Belegtransfer program is installed and open.
 ********** TTrraannssmmiissssiioonn ttoo tthhee ttaaxx aaddvviissoorr **********
 The ZIP file with the document images is first exported from Odoo and saved on
 the client’s computer. The files can then be transferred to the tax consultant
 in 3 different ways:
@@ -85,34 +85,34 @@
 file with the documents into DATEV document transfer and then fetches the batch
 of postings provided from the office.
 ********** DDAATTEEVV BBeelleeggttrraannssffeerr **********
 To transfer the .zip archive from Odoo, the DATEV document transfer program
 „DATEV Belegtransfer“ must be installed and open. In the opened DATEV
 Belegtransfer application you can now click on “Add directories” and make the
 following settings:
-[https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/
+[https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/
 static/description/belegtransfer_verzeichnis_anlegen_0.png]
 1.) “Create directories” dialog: Specify where the directories should be saved,
 how the company directory should be named and whether you want to delete or
 archive the source files after the upload. Then click on “Save”.
-[https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/
+[https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/
 static/description/belegtransfer_verzeichnis_anlegen_1.png]
 2.) Now define the directories that are to be used by first selecting the
 client and then clicking on “Next”. You can now use the two following suggested
 entries and configure them as follows: * Activate RReecchhnnuunnggsseeiinnggaanngg “Create as
 directory”. Also activate “Configure as XML interface”. To activate the XML
 interface, slide the slider in the “Configure as XML interface” column to the
 right. Then it is green. The setting is important for the transfer of the
 files. DATEV only reads in the receipts correctly with an activated XML
 interface. * Activate RReecchhnnuunnggssaauussggaanngg “Create as directory”. Also activate
 “Configure as XML interface”. To activate the XML interface, slide the slider
 in the “Configure as XML interface” column to the right. Then it is also green.
-[https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/
+[https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/
 static/description/belegtransfer_verezcihnis_anlegen_2.png][https://
-raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/
+raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/
 description/belegtransfer_verzeichnis_anlegen_3.png]
 ********** TTrraannssffeerr ffiilleess **********
 1.) Double-click on either the “Rechnungseingang” or “Rechnungsausgang”
 directory. The storage location for the files to be uploaded opens. Place the
 file in the storage location. Make sure you put the files in the right
 directory: * ZIP file for outgoing invoices from Odoo in the directory with
 activated XML interface „Ausgangsrechnungen“. * ZIP file for incoming invoices
@@ -120,30 +120,30 @@
 EXCURSION: if you want to upload .csv files, e.g. exported from the
 datev_export_acii application, copy them to a directory without an activated
 XML interface (in the screenshot “Other”)
 You can tell for which directory the XML interface is activated by the
 interface symbol at the beginning of the line. If the symbol is displayed, the
 XML interface is activated in the directory (it should therefore be active in
 the two directories “Eingangsrechnungen” and “Ausgangsrechnungen”).
-[https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/
+[https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/
 static/description/belegtransfer_belege_hochladen.png]
 2.) Right-click on the directory. A new menu will open. Click Upload Receipts.
 Uploading deletes the files from the directory or moves them to an archive
 folder. You can specify which option should apply under Settings.
-[https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/
+[https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/
 static/description/belegtransfer_belege_hochladen_dateiauswahl.png]
 3.) To check whether the upload was successful, right-click on the directory. A
 new menu will open. Click Open Log. For more details click on “Import Log”
-[https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/
+[https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/
 static/description/belegtransfer_protokoll_timestamp.png][https://
-raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/
+raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/
 description/belegtransfer_protokoll_auswahl.png][https://
-raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/
+raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/
 description/belegtransfer_protokoll_liste.png][https://
-raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/
+raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/
 description/belegtransfer_protokoll_details.png]
 4.) Repeat steps 1 to 3 with the other directory (either for A/R invoices / A/
 R invoices if you want to upload those as well).
 Check the import of the receipts in DATEV Unternehmen Online:
 DATEV Unternehmen Online automatically recognizes that the contents of the ZIP
 file are receipts that belong to a batch of bookings and imports them
 automatically. Further actions by the tax advisor are not required. If the
@@ -158,17 +158,17 @@
 1.) In DATEV Unternehmen Online:
 The “Provide” („Bereitstellen“) position is on the Receipts start page in DATEV
 Unternehmen Online. The batch of bookings exported from Odoo and uploaded via
 DATEV document transfer for „Eingangsrechnungen“ and „Ausgangsrechnugnen“ can
 be marked here, in order to make them ready for collection by clicking on
 “Provide” for DATEV Kanzlei-Rechnungswesen. With the appropriate authorization,
 this process can be carried out by the client himself or by the tax consultant.
-[https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/
+[https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/
 static/description/datev_uo_bereitstellen_1.png][https://
-raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/
+raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/
 description/datev_uo_bereitstellen_2.png]
 2.) In DATEV Kanzlei-Rechnungswesen, this provided data must be retrieved via
 client supplement. The procedure is as follows: Under “Preparatory activities”
 in your overview on the left, click on “Add client”. Select the item “Cash
 register/invoice stack from cash book/receipts online”. The process is started
 by clicking on “Get data”. The “Edit booking suggestions” function is located
 in your booking line. This allows you to generate the posting proposals with
@@ -229,18 +229,20 @@
 ********** AAuutthhoorrss **********
     * Guenter Selbert
     * Thorsten Vocks
     * Maciej Wichowski
     * Daniela Scarpa
     * Maria Sparenberg
     * initOS GmbH
+    * Jan Sierpina
 ********** CCoonnttrriibbuuttoorrss **********
     * Thorsten Vocks (OpenBIG.org)
     * Guenter Selbert (sewisoft.de)
     * initOS GmbH (initOS.com)
+    * Solvti sp. z o.o. (_h_t_t_p_s_:_/_/_s_o_l_v_t_i_._p_l)
 ********** MMaaiinnttaaiinneerrss **********
 This module is maintained by the OCA.
 _[_O_d_o_o_ _C_o_m_m_u_n_i_t_y_ _A_s_s_o_c_i_a_t_i_o_n_]
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 This module is part of the _O_C_A_/_l_1_0_n_-_g_e_r_m_a_n_y project on GitHub.
```

## odoo/addons/datev_export_xml/tests/test_datev_export.py

```diff
@@ -16,18 +16,14 @@
 _logger = logging.getLogger(__name__)
 
 
 class TestDatevExport(TransactionCase):
     @classmethod
     def setUpClass(cls):
         super().setUpClass()
-        cls.receivable = cls.env.ref("account.data_account_type_receivable")
-        cls.income = cls.env.ref("account.data_account_type_revenue")
-        cls.payable = cls.env.ref("account.data_account_type_payable")
-        cls.expense = cls.env.ref("account.data_account_type_expenses")
         cls.JournalObj = cls.env["account.journal"]
         cls.sale_journal = cls.JournalObj.search([("type", "=", "sale")])[0]
         cls.purchase_journal = cls.JournalObj.search([("type", "=", "purchase")])[0]
         cls.AccountObj = cls.env["account.account"]
         cls.PartnerObj = cls.env["res.partner"]
         cls.AnalyticAccountObj = cls.env["account.analytic.account"]
         cls.ProductObj = cls.env["product.product"]
@@ -150,15 +146,15 @@
                             "quantity": 5.0,
                             "tax_ids": [(6, 0, tax.ids)],
                             "price_unit": 120.00,
                             "price_total": 600.0,
                             "credit": 600.0,
                             "debit": 0.0,
                             "account_id": self.account_income.id,
-                            "analytic_account_id": self.analytic_account_it.id,
+                            "analytic_distribution": {self.analytic_account_it.id: 100},
                         },
                     )
                 ],
             }
         )
         invoice.invoice_line_ids.filtered("product_id")[0]
         self.assertEqual(invoice.state, "draft")
@@ -181,15 +177,15 @@
                         0,
                         0,
                         {
                             "product_id": self.consulting.id,
                             "quantity": 5.0,
                             "price_unit": 120.00,
                             "account_id": self.account_income.id,
-                            "analytic_account_id": self.analytic_account_it.id,
+                            "analytic_distribution": {self.analytic_account_it.id: 100},
                             "tax_ids": [(6, 0, tax.ids)],
                         },
                     ),
                 ],
             }
         )
         invoice.invoice_line_ids.filtered("product_id")[0]
@@ -225,27 +221,31 @@
                             "quantity": 1.0,
                             "price_unit": 900.0,
                             "price_total": 900.0,
                             "credit": 0.0,
                             "debit": 900.0,
                             "tax_ids": [(6, 0, tax.ids)],
                             "account_id": self.account_expense.id,
-                            "analytic_account_id": self.analytic_account_office.id,
+                            "analytic_distribution": {
+                                self.analytic_account_office.id: 1
+                            },
                         },
                     ),
                 ],
             }
         )
         self.assertEqual(invoice.state, "draft")
         invoice.action_post()
         return invoice
 
     def create_refund(self, invoice, refund_date):
         # OUT Refund/Credit Note
-        refund = invoice._reverse_moves([{"invoice_date": refund_date}])
+        refund = invoice._reverse_moves(
+            [{"invoice_date": refund_date, "invoice_date_due": refund_date}]
+        )
         self.assertEqual(refund.state, "draft")
         refund.action_post()
         return refund
 
     def create_customer_datev_export(self, start_date, end_date):
         datev_export = self.DatevExportObj.create(
             {
```

## odoo/addons/datev_export_xml/views/account_invoice_view.xml

### odoo/addons/datev_export_xml/views/account_invoice_view.xml

```diff
@@ -5,25 +5,14 @@
     <field name="inherit_id" ref="account.view_move_form"/>
     <field name="arch" type="xml">
       <group name="accounting_info_group" position="inside">
         <field name="datev_exported" groups="datev_export_xml.group_datev_export_status"/>
       </group>
     </field>
   </record>
-  <record id="view_move_datev_validation" model="ir.ui.view">
-    <field name="model">account.move</field>
-    <field name="mode">primary</field>
-    <field name="priority">800</field>
-    <field name="arch" type="xml">
-      <tree>
-        <field name="name" decoration-bf="1"/>
-        <field name="datev_validation"/>
-      </tree>
-    </field>
-  </record>
   <record id="view_account_invoice_filter" model="ir.ui.view">
     <field name="model">account.move</field>
     <field name="inherit_id" ref="account.view_account_invoice_filter"/>
     <field name="arch" type="xml">
       <filter name="late" position="after">
         <filter name="not_datev_exported" string="To be exported to Datev" domain="['&amp;', ('datev_exported', '=', False), ('state', '!=', 'draft')]" groups="datev_export_xml.group_datev_export_status" help="Invoices that are not yet exported to Datev"/>
       </filter>
```

## odoo/addons/datev_export_xml/views/datev_export_views.xml

### odoo/addons/datev_export_xml/views/datev_export_views.xml

```diff
@@ -64,41 +64,32 @@
     <field name="model">datev.export.xml</field>
     <field name="type">form</field>
     <field name="arch" type="xml">
       <form create="1">
         <header>
           <!-- Run in Background buttons -->
           <button name="action_draft" type="object" string="Set to draft" attrs="{'invisible':  ['|', ('state', 'not in', ['done', 'pending', 'failed']), ('manually_document_selection', '=', True)]}" confirm="Do you really want to set the export to draft?"/>
-          <button name="action_validate" type="object" string="Validate" attrs="{'invisible':  [('state', '=', 'done')]}"/>
           <button name="action_pending" type="object" string="Ready for Export" attrs="{'invisible':  ['|', ('state', 'not in', ['draft']), ('manually_document_selection', '=', True)]}"/>
           <button name="action_pending" type="object" string="Restart" attrs="{'invisible':  ['|', ('state', 'not in', ['done', 'failed']), ('manually_document_selection', '=', True)]}" confirm="Do you really want to restart the export?"/>
           <button name="action_done" type="object" string="Set Done" attrs="{'invisible':  ['|', ('state', 'not in', ['running', 'failed']), ('manually_document_selection', '=', True)]}" confirm="Do you really want to set the export manually to 'Done'?"/>
           <!-- Run in Foreground buttons -->
           <button string="Create DATEV Export File" name="export_zip" type="object" class="oe_highlight" attrs="{'invisible':  ['|', ('datev_file', '!=', False), ('manually_document_selection', '=', False)]}" confirm="The creation of the file can take some time! Do you really want to proceed!"/>
           <button string="Recreate DATEV Export File" name="export_zip" type="object" class="" attrs="{'invisible': ['|', ('datev_file', '=', False), ('manually_document_selection', '=', False)]}" confirm="The creation of the file can take some time! Do you really want to create the DATEV file again?"/>
           <field name="state" widget="statusbar" statusbar_visible="pending,running,done" attrs="{'invisible': [('manually_document_selection', '=', True)]}" statusbar_colors="{'done':'blue', 'failed':'red'}"/>
         </header>
         <sheet>
           <div class="oe_button_box" name="button_box">
-            <button class="oe_stat_button oe_read_only" name="action_show_related_invoices_view" icon="fa-usd" type="object">
+            <button class="oe_stat_button" name="action_show_related_invoices_view" icon="fa-usd" type="object">
               <div class="o_form_field o_stat_info">
                 <span class="o_stat_value">
                   <field name="invoices_count"/>
                 </span>
                 <span class="o_stat_text">Invoices</span>
               </div>
             </button>
-            <button class="oe_stat_button oe_read_only" name="action_show_invalid_invoices_view" icon="fa-exclamation" type="object" attrs="{'invisible': [('problematic_invoices_count', '=', 0)]}">
-              <div class="o_form_field o_stat_info">
-                <span class="o_stat_value">
-                  <field name="problematic_invoices_count"/>
-                </span>
-                <span class="o_stat_text">Problems</span>
-              </div>
-            </button>
           </div>
           <field name="manually_document_selection" invisible="1"/>
           <group>
             <group string="Document Types">
               <field name="export_type"/>
               <field name="export_invoice" string="Invoices"/>
               <field name="export_refund" string="Refunds"/>
```

## odoo/addons/datev_export_xml/views/templates.xml

### odoo/addons/datev_export_xml/views/templates.xml

```diff
@@ -1,27 +1,24 @@
 <?xml version="1.0" encoding="utf-8"?>
 <odoo>
   <template id="export_party">
-    <address t-att-name="(partner.display_name or '')[:50]" t-att-street="' '.join([partner.street or '', partner.street2 or ''])[:40]" t-att-zip="partner.zip or ''" t-att-city="partner.city or ''" t-att-country="partner.country_id.code or ''"/>
+    <address t-att-name="(partner.display_name or '')[:50]" t-att-street="(partner.street or '')[:40]" t-att-zip="partner.zip or ''" t-att-city="partner.city or ''" t-att-country="partner.country_id.code or ''"/>
     <t t-foreach="partner.bank_ids" t-as="bank">
       <account t-if="bank.bank_id" t-att-bank_name="bank.bank_id.name[:27]" t-att-bank_country="bank.bank_id.country.code" t-att-iban="(bank.acc_number or '').replace(' ', '')" t-att-swiftcode="(bank.bank_id.bic or '').replace(' ', '')"/>
     </t>
     <booking_info_bp t-if="account" t-att-bp_account_no="account.code"/>
   </template>
   <template id="export_invoice_line_item">
-    <price_line_amount t-if="prices['total_included']" t-att-currency="line.currency_id.name" t-att-gross_price_line_amount="doc.datev_format_total(prices['total_included'])" t-att-net_price_line_amount="doc.datev_format_total(prices['total_excluded'])" t-att-tax="doc.datev_format_total(line.tax_ids.amount)"/>
-    <price_line_amount t-else="" t-att-currency="line.currency_id.name" t-att-tax="doc.datev_format_total(line.tax_ids.amount)"/>
-    <accounting_info t-att-account_no="line.account_id.code or ''" t-att-cost_category_id="line.analytic_account_id.code or ''" t-att-booking_text="(line.name or line.product_id.name or '')[:60]" t-att-bu_code="line.tax_ids.l10n_de_datev_code or '0'"/>
+    <price_line_amount t-att-currency="line.currency_id.name" t-att-gross_price_line_amount="doc.datev_format_total(prices['total_included'])" t-att-net_price_line_amount="doc.datev_format_total(prices['total_excluded'])" t-att-tax="doc.datev_format_total(line.tax_ids.amount)"/>
+    <accounting_info t-att-account_no="line.account_id.code or ''" t-att-cost_category_id="line.datev_analytic_account().code or ''" t-att-booking_text="(line.name or line.product_id.name or '')[:60]" t-att-bu_code="line.tax_ids.l10n_de_datev_code or '0'"/>
   </template>
   <template id="export_invoice_line">
     <t t-set="prices" t-value="line.datev_price_information()"/>
-    <invoice_item_list t-if="line.product_id and prices['total_excluded']" t-call="datev_export_xml.export_invoice_line_item" t-att-product_id="line.product_id.default_code" t-att-description_short="(line.name or line.product_id.name)[:40]" t-att-net_product_price="doc.datev_format_total(prices['total_excluded'], 3)" t-att-order_unit="line.product_uom_id.name" t-att-quantity="'%.02f' % line.quantity"/>
-    <invoice_item_list t-if="line.product_id" t-call="datev_export_xml.export_invoice_line_item" t-att-product_id="line.product_id.default_code" t-att-description_short="(line.name or line.product_id.name)[:40]" t-att-order_unit="line.product_uom_id.name" t-att-quantity="'%.02f' % line.quantity"/>
-    <invoice_item_list t-elif="not line.display_type and prices['total_excluded']" t-call="datev_export_xml.export_invoice_line_item" t-att-description_short="(line.name or '')[:40]" t-att-net_product_price="doc.datev_format_total(prices['total_excluded'], 3)" t-att-quantity="'%.02f' % line.quantity"/>
-    <invoice_item_list t-elif="not line.display_type" t-call="datev_export_xml.export_invoice_line_item" t-att-description_short="(line.name or '')[:40]" t-att-quantity="'%.02f' % line.quantity"/>
+    <invoice_item_list t-if="line.product_id" t-call="datev_export_xml.export_invoice_line_item" t-att-product_id="line.product_id.default_code" t-att-description_short="(line.name or line.product_id.name)[:40]" t-att-net_product_price="doc.datev_format_total(prices['total_excluded'], 3)" t-att-order_unit="line.product_uom_id.name" t-att-quantity="'%.02f' % line.quantity"/>
+    <invoice_item_list t-elif="not line.display_type" t-call="datev_export_xml.export_invoice_line_item" t-att-description_short="line.name or ''" t-att-net_product_price="doc.datev_format_total(prices['total_excluded'], 3)" t-att-quantity="'%.02f' % line.quantity"/>
   </template>
   <template id="export_invoice">
     <invoice xmlns="http://xml.datev.de/bedi/tps/invoice/v050" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xml_data="Kopie nur zur Verbuchung berechtigt nicht zum Vorsteuerabzug" xsi:schemaLocation="http://xml.datev.de/bedi/tps/invoice/v050 Belegverwaltung_online_invoice_v050.xsd" version="5.0" description="DATEV Import invoices" generating_system="Odoo" t-att-generator_info="doc.company_id.name">
       <invoice_info t-if="doc.datev_order_id()" t-att-delivery_date="doc.datev_delivery_date()" t-att-invoice_date="doc.invoice_date" t-att-invoice_id="doc.datev_invoice_id()" t-att-invoice_type="doc.datev_invoice_type()" t-att-order_id="doc.datev_order_id()"/>
       <invoice_info t-else="" t-att-delivery_date="doc.datev_delivery_date()" t-att-invoice_date="doc.invoice_date" t-att-invoice_id="doc.datev_invoice_id()" t-att-invoice_type="doc.datev_invoice_type()"/>
       <invoice_party t-call="datev_export_xml.export_party">
         <t t-set="partner" t-value="doc.partner_id" t-if="doc.move_type in ['out_invoice', 'out_refund']"/>
```

## Comparing `odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/METADATA` & `odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,50 +1,50 @@
 Metadata-Version: 2.1
 Name: odoo-addon-datev-export-xml
-Version: 15.0.1.0.1.1
+Version: 16.0.1.0.1
 Summary: Export invoices and refunds as xml and pdf files zipped in DATEV format.
 Home-page: https://github.com/OCA/l10n-germany
-Author: Guenter Selbert, Thorsten Vocks, Maciej Wichowski, Daniela Scarpa, Maria Sparenberg, initOS GmbH, Odoo Community Association (OCA)
+Author: Guenter Selbert, Thorsten Vocks, Maciej Wichowski, Daniela Scarpa, Maria Sparenberg, initOS GmbH, Jan Sierpina, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
-Classifier: Framework :: Odoo :: 15.0
+Classifier: Framework :: Odoo :: 16.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
-Requires-Python: >=3.8
-Requires-Dist: odoo-addon-datev-export <15.1dev,>=15.0dev
-Requires-Dist: odoo <15.1dev,>=15.0a
+Requires-Python: >=3.10
+Requires-Dist: odoo-addon-datev-export <16.1dev,>=16.0dev
+Requires-Dist: odoo <16.1dev,>=16.0a
 
 ================
 Datev Export XML
 ================
 
 .. 
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
    !! changes will be overwritten.                   !!
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-   !! source digest: sha256:e862a39f0d6e3edb2f3e8a9999ac7014fc03ddc8566245b09cb1e35e87313a40
+   !! source digest: sha256:c149868b863e0d8455b3173baae0272f1f0dc4e7568f77c25d70af0adc10cf4f
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
     :target: https://odoo-community.org/page/development-status
     :alt: Beta
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--germany-lightgray.png?logo=github
-    :target: https://github.com/OCA/l10n-germany/tree/15.0/datev_export_xml
+    :target: https://github.com/OCA/l10n-germany/tree/16.0/datev_export_xml
     :alt: OCA/l10n-germany
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/l10n-germany-15-0/l10n-germany-15-0-datev_export_xml
+    :target: https://translation.odoo-community.org/projects/l10n-germany-16-0/l10n-germany-16-0-datev_export_xml
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
-    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-germany&target_branch=15.0
+    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-germany&target_branch=16.0
     :alt: Try me on Runboat
 
 |badge1| |badge2| |badge3| |badge4| |badge5|
 
 Odoo Export to DATEV XML
 ========================
 
@@ -70,15 +70,15 @@
 
 Export by Wizard
 ~~~~~~~~~~~~~~~~
 
 The main export usage will be done by the **DATEV Export** Wizard, which can be executed from the menu item located at
 **Invoicing > Reporting > Datev Export**.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_wizard.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_wizard.png
     :width: 100%
 
 At the wizard you can filter by *Invoice types* and limit the *time range*. At the *General Settings* you can choose your company and if you want to validate the XML-Export file by the provided XSD-Schema (Recommended).
 
 .. important::
 
     It's very important for a valid import at DATEV that the export file meets the requirements! So make sure that
@@ -90,22 +90,22 @@
 
 Manual Export
 ~~~~~~~~~~~~~
 
 
 It is also possible to export selected invoice(s) or refund(s) from the Invoices / Refunds *Action-Dropdown*. As result you can download a zip file ready to transfer to DATEV Unternehmen Online. The file contains the selected invoices / refunds as xml and pdf file and a document file which summarizes and classify all included files. This method can be handy if an exception occurs while generating a huge amount of invoices / refunds via the wizard, to fix and validate the related invoice / refund before running the wizard again.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_wizard_manual.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_wizard_manual.png
     :width: 100%
 
 If you create a manual export from the vendor bills list the export type is „Vendors“. If you create this export from the customer invoices the export type is „Customers“.
 
 If you have the Check XSD option, it's possible that some errors occurs.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/example_datev_export_exception.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/example_datev_export_exception.png
     :width: 100%
 
 
 On errors, an activity will be applied to you for fixing the problem. If you have fixed the problem, just restart the wizard, or click on „Recreate DATEV Export File“. On success you can download the generated zip file from the wizards **Download DATEV File** section.
 
 
 .. hint::
@@ -118,19 +118,19 @@
 =================
 
 Requirements
 ~~~~~~~~~~~~
 
 1.) DATEV Unternehmen Online is activated for the client. (In order to simply import the receipts, it is not necessary for the client to have their own access to DATEV Unternehmen Online). Please ensure you have configured the following "Advanced Settings" in DATEV Unternehmen Online in order to allow to import split account moves with many invoice lines from Invoices / Bills:
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen.png
      :width: 100%
 
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen_rechnungsdatenschnittstelle.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_belegtransfer_erweiterte_einstellungen_rechnungsdatenschnittstelle.png
      :width: 100%
 
 
 2.) The DATEV Belegtransfer program is installed and open.
 
 
 Transmission to the tax advisor
@@ -147,64 +147,64 @@
 
 
 DATEV Belegtransfer
 ~~~~~~~~~~~~~~~~~~~~
 
 To transfer the .zip archive from Odoo, the DATEV document transfer program „DATEV Belegtransfer“ must be installed and open. In the opened DATEV Belegtransfer application you can now click on "Add directories" and make the following settings:
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_0.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_0.png
      :width: 100%
 
 1.) "Create directories" dialog: Specify where the directories should be saved, how the company directory should be named and whether you want to delete or archive the source files after the upload. Then click on "Save".
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_1.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_1.png
      :width: 100%
 
 
 2.) Now define the directories that are to be used by first selecting the client and then clicking on "Next". You can now use the two following suggested entries and configure them as follows:
 * Activate *Rechnungseingang* "Create as directory". Also activate "Configure as XML interface". To activate the XML interface, slide the slider in the "Configure as XML interface" column to the right. Then it is green. The setting is important for the transfer of the files. DATEV only reads in the receipts correctly with an activated XML interface.
 * Activate *Rechnungsausgang* "Create as directory". Also activate "Configure as XML interface". To activate the XML interface, slide the slider in the "Configure as XML interface" column to the right. Then it is also green.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verezcihnis_anlegen_2.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verezcihnis_anlegen_2.png
      :width: 100%
 
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_3.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_verzeichnis_anlegen_3.png
      :width: 100%
 
 Transfer files
 ~~~~~~~~~~~~~~
 
 1.) Double-click on either the “Rechnungseingang” or “Rechnungsausgang” directory. The storage location for the files to be uploaded opens. Place the file in the storage location. Make sure you put the files in the right directory:
 * ZIP file for outgoing invoices from Odoo in the directory with activated XML interface „Ausgangsrechnungen“.
 * ZIP file for incoming invoices from Odoo in the directory with activated XML interface „Eingangsrechnungen".
 * EXCURSION: if you want to upload .csv files, e.g. exported from the datev_export_acii application, copy them to a directory without an activated XML interface (in the screenshot "Other")
 
 You can tell for which directory the XML interface is activated by the interface symbol at the beginning of the line. If the symbol is displayed, the XML interface is activated in the directory (it should therefore be active in the two directories “Eingangsrechnungen” and “Ausgangsrechnungen”).
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_belege_hochladen.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_belege_hochladen.png
      :width: 100%
 
 2.) Right-click on the directory. A new menu will open. Click Upload Receipts. Uploading deletes the files from the directory or moves them to an archive folder. You can specify which option should apply under Settings.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_belege_hochladen_dateiauswahl.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_belege_hochladen_dateiauswahl.png
      :width: 100%
 
 3.) To check whether the upload was successful, right-click on the directory. A new menu will open. Click Open Log. For more details click on “Import Log”
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_timestamp.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_timestamp.png
      :width: 100%
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_auswahl.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_auswahl.png
      :width: 100%
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_liste.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_liste.png
      :width: 100%
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/belegtransfer_protokoll_details.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/belegtransfer_protokoll_details.png
      :width: 100%
 
 4.) Repeat steps 1 to 3 with the other directory (either for A/R invoices / A/R invoices if you want to upload those as well).
 
 
 Check the import of the receipts in DATEV Unternehmen Online:
 
@@ -214,19 +214,19 @@
 Download booking records
 ~~~~~~~~~~~~~~~~~~~~~~~~
 
 1.) In DATEV Unternehmen Online:
 
 The "Provide" („Bereitstellen“)  position is on the Receipts start page in DATEV Unternehmen Online. The batch of bookings exported from Odoo and uploaded via DATEV document transfer for „Eingangsrechnungen“ and „Ausgangsrechnugnen“ can be marked here, in order to make them ready for collection by clicking on "Provide" for DATEV Kanzlei-Rechnungswesen. With the appropriate authorization, this process can be carried out by the client himself or by the tax consultant.
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_uo_bereitstellen_1.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_uo_bereitstellen_1.png
      :width: 100%
 
 
-.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/15.0/datev_export_xml/static/description/datev_uo_bereitstellen_2.png
+.. image:: https://raw.githubusercontent.com/OCA/l10n-germany/16.0/datev_export_xml/static/description/datev_uo_bereitstellen_2.png
      :width: 100%
 
 2.) In DATEV Kanzlei-Rechnungswesen, this provided data must be retrieved via client supplement.
 The procedure is as follows:
 Under "Preparatory activities" in your overview on the left, click on "Add client".
 Select the item "Cash register/invoice stack from cash book/receipts online".
 The process is started by clicking on "Get data".
@@ -260,15 +260,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-germany/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us to smash it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/l10n-germany/issues/new?body=module:%20datev_export_xml%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/l10n-germany/issues/new?body=module:%20datev_export_xml%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -276,33 +276,35 @@
 
 * Guenter Selbert
 * Thorsten Vocks
 * Maciej Wichowski
 * Daniela Scarpa
 * Maria Sparenberg
 * initOS GmbH
+* Jan Sierpina
 
 Contributors
 ~~~~~~~~~~~~
 
 * Thorsten Vocks (OpenBIG.org)
 * Guenter Selbert (sewisoft.de)
 * initOS GmbH (initOS.com)
+* Solvti sp. z o.o. (https://solvti.pl)
 
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
-This module is part of the `OCA/l10n-germany <https://github.com/OCA/l10n-germany/tree/15.0/datev_export_xml>`_ project on GitHub.
+This module is part of the `OCA/l10n-germany <https://github.com/OCA/l10n-germany/tree/16.0/datev_export_xml>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## Comparing `odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/RECORD` & `odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -1,24 +1,24 @@
-odoo/addons/datev_export_xml/README.rst,sha256=Cmn2SvbnH1R-XX_YYdgKLxNftBaLz-6xyTK6iGqMyXA,18174
+odoo/addons/datev_export_xml/README.rst,sha256=O3Zyr2AxtznV9QVYgo5flHbMIUCv0azPuJPPJqqB2h8,18229
 odoo/addons/datev_export_xml/__init__.py,sha256=vpC5CREaB0oL2Qiwn_vkjQvZ3AFSm3yUifeIKWe2yjs,407
-odoo/addons/datev_export_xml/__manifest__.py,sha256=E3ywthDH5brTQTwELJHXZEx1O3NiCsxtBSB7I1oqSPM,1279
+odoo/addons/datev_export_xml/__manifest__.py,sha256=gV8JlzfbVso44JM0xhYDUGOPYlNP-SosNHx4uuRFMm0,1352
 odoo/addons/datev_export_xml/data/ir_cron_data.xml,sha256=TNTboGyduyh-laoYxF1j_aC508yqwKLreoGDyf-P29E,609
-odoo/addons/datev_export_xml/demo/export_data.xml,sha256=kE9xcqMULygPZ4Nf0pyxCkeyTK_6JHiykNfeHXBp3_I,11880
-odoo/addons/datev_export_xml/i18n/datev_export_xml.pot,sha256=DHmOQnwhmTuvWWBgnGHomHC4mFLnY3YlP2D1MuUcsRU,32225
-odoo/addons/datev_export_xml/i18n/de.po,sha256=hxnchV-paXN_Q2LHj8oKZ2e-_wHEQe63CafAAg_rONA,40868
-odoo/addons/datev_export_xml/models/__init__.py,sha256=w5BMHRGfkPT6yoWNE6MjkwXVONnwWzUSH056NfKD6B0,593
-odoo/addons/datev_export_xml/models/account_move.py,sha256=hZMNRTivtM3O-wEZ6A2DKgU1pVwd27MAr6Hg9MiP9PA,3841
-odoo/addons/datev_export_xml/models/datev_export.py,sha256=WpUxTmUODQWzZtfyD48A_iKo9rzs0opvHk1yE2L802o,16494
-odoo/addons/datev_export_xml/models/datev_pdf_generator.py,sha256=xR98XEw4lqX3SA6Gp-LxR_oK9iTPYam6d-ftpNpTM18,1744
-odoo/addons/datev_export_xml/models/datev_xml_generator.py,sha256=42CiuBPYhbHse7VUq3r3f0Y_sBQZ-vA-k3ZSSWMtCgA,3324
+odoo/addons/datev_export_xml/demo/export_data.xml,sha256=JuqyA5OKJWFOg7HxxgVrT07yk5TSvi_n9wVlyf8uRtQ,11681
+odoo/addons/datev_export_xml/i18n/datev_export_xml.pot,sha256=ttQJY35GvaawvyLOzZzBJXz04ehUgBJnMSCu16nLUIU,30384
+odoo/addons/datev_export_xml/i18n/de.po,sha256=64FRgasiiVXhm9V5sMNZ5STA-nburvEYZwM8vSxCONY,39873
+odoo/addons/datev_export_xml/models/__init__.py,sha256=w2eR3TqXbQIAMEoXgtbo18_VvIdKU1128Cb4-pxzAHM,642
+odoo/addons/datev_export_xml/models/account_move.py,sha256=I8sYiWEC6u1zlf_UjVRHE2UpuppGvRjB0m179YO2r4M,3981
+odoo/addons/datev_export_xml/models/datev_export.py,sha256=F8nzS6WvswaPfQM6cjjw86mKaEGQK0JqR3obdukCq8A,15193
+odoo/addons/datev_export_xml/models/datev_pdf_generator.py,sha256=A3sRdKloR1B_cFWOu2vRMVC-6OrIVQvWhYR7N07W4S4,1834
+odoo/addons/datev_export_xml/models/datev_xml_generator.py,sha256=qwUsiyyqKjmKbYdMsqoyYSKhxCkJw99LuqyD2blJS5Q,3245
 odoo/addons/datev_export_xml/models/datev_zip_generator.py,sha256=nDlEyEFlJYvm0nKUm2LPS3-LnwJyrr2EodVD0xtSke8,2549
 odoo/addons/datev_export_xml/models/res_company.py,sha256=B4ie3FM48gVip7pr7gdVRhPn-3_o6p_NMMIpf7tsDf8,1534
 odoo/addons/datev_export_xml/models/res_config_settings.py,sha256=U41a7Oh4U1o16n1WgGcYNkJ6c57COHfswC_a_dBmsko,1019
 odoo/addons/datev_export_xml/readme/CONFIGURATION.rst,sha256=0XFeM3X8144Wc7idyzRKMX7syxmM_69OOjVVytQexq0,1852
-odoo/addons/datev_export_xml/readme/CONTRIBUTORS.rst,sha256=GDZ6gqurBfETT7ddjOkwLcR34s-Vi4hC0f41UZCbtMg,90
+odoo/addons/datev_export_xml/readme/CONTRIBUTORS.rst,sha256=WxCPHnbE1lFrGi-6w2StIHcgdY2REErK0L_2I_xq8gA,130
 odoo/addons/datev_export_xml/readme/DESCRIPTION.rst,sha256=1ed4UX_whHQEb47xfRz93HnTZw8IXfVct8PXpb4pWBw,688
 odoo/addons/datev_export_xml/readme/USAGE.rst,sha256=JdWPA-gwxsSliTRkFaXTA4EPLZKUVMTCLRJrCuFtwjQ,13381
 odoo/addons/datev_export_xml/security/groups.xml,sha256=l_vzPQK3HGjaD0jxxcuqyGgSPb26D1itSAssozFpmAU,273
 odoo/addons/datev_export_xml/security/ir.model.access.csv,sha256=FPt-SkHfAChvEFt0CbmjECcMw2P1AHRktaEG31CSHHA,186
 odoo/addons/datev_export_xml/security/security.xml,sha256=LOuyAmsliVFeqdTcuZdOsYtllcbgWvRV7ICWW4wGjWY,358
 odoo/addons/datev_export_xml/static/description/belegtransfer_belege_hochladen.png,sha256=TXN6CrS2WfiGtnHQ8MbIf2tMIU4J3BhrrSLI5Tg2vf4,137968
 odoo/addons/datev_export_xml/static/description/belegtransfer_belege_hochladen_dateiauswahl.png,sha256=JKh6FYu6Fc4dGbFAVwYHk8l_S1IuslY8fDsXggKOVLI,190143
@@ -36,24 +36,24 @@
 odoo/addons/datev_export_xml/static/description/datev_uo_bereitstellen_2.png,sha256=T8upihVt2EyzYhKvkBXARD8wmviKRGWaN6iLL8Z6oV4,182142
 odoo/addons/datev_export_xml/static/description/example_datev_config.png,sha256=iU8_zb1bL07jsBaTup5ZlSrPKYLIdfuVDMUQ42tv96g,109164
 odoo/addons/datev_export_xml/static/description/example_datev_export_exception.png,sha256=6ZPsvyEcNwSea6jkrF7fG99ACjDIgEQFJU5vROQtkL8,303474
 odoo/addons/datev_export_xml/static/description/example_datev_export_wizard.png,sha256=AFYPRyPBoeEznpoRJmbB6Dzjvs2CL-MayNC75oOWLrA,246591
 odoo/addons/datev_export_xml/static/description/example_datev_export_wizard_manual.png,sha256=ADo4uH7-w04NR7syQt_vhYAChk0g5jFqp4cQ5OBF5MM,235481
 odoo/addons/datev_export_xml/static/description/example_partner_config.png,sha256=zUB3LCNQriaLWp-PxnT2cvQ0dFE1ag924EGeo79JuzA,159389
 odoo/addons/datev_export_xml/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/datev_export_xml/static/description/index.html,sha256=zXUdu_qEM6xt8zde95gxSZtkaPT45G2UhWsfPOBRpks,30192
+odoo/addons/datev_export_xml/static/description/index.html,sha256=8TeeuUaLmmCWLz7Rx7sfe1Ajte5wmkTPWLmMwxPCr3c,30320
 odoo/addons/datev_export_xml/static/src/demo/vendor_bill_attachment.pdf,sha256=7gunCZNYktrbUa-6i7hprZ252kODRhR2pmHBg4uvDyQ,8482
 odoo/addons/datev_export_xml/tests/__init__.py,sha256=lYdP3QAyYvEqaPyq-qxvFH9YnolPybBsWl1WkYBDA_E,212
-odoo/addons/datev_export_xml/tests/test_datev_export.py,sha256=DVBQjjGi0MHhnMDvHR1ouTRwM8MzEnvBMJRuqKE89hE,34043
+odoo/addons/datev_export_xml/tests/test_datev_export.py,sha256=5CEBsxIYJEVnkGw-Cf6iycwtfJqIqGWJaQaxKe__fow,33895
 odoo/addons/datev_export_xml/tests/test_generator.py,sha256=WIDL8nmanwAhYhbeqGx3v5JrqN2SVFI_udY2XxWwdO8,582
-odoo/addons/datev_export_xml/views/account_invoice_view.xml,sha256=wJrnI3Q97bejzXVJrxYGMwRfinhVU72UKhkrhVJvrVY,1667
-odoo/addons/datev_export_xml/views/datev_export_views.xml,sha256=gxoGfsw5lTVIsHYf6OfvwS6JmhY1kOxBtiB1UpIycW4,20093
+odoo/addons/datev_export_xml/views/account_invoice_view.xml,sha256=hg1olUpgPhizGBc6QaQMsIIAB4newG0Zh89wHaOtf_w,1252
+odoo/addons/datev_export_xml/views/datev_export_views.xml,sha256=jz8dV8gg50sV5wzGVB3uAdcTddoFCkD3N45XpXzvQ8w,19064
 odoo/addons/datev_export_xml/views/res_config_settings_views.xml,sha256=0YBR8WDMfFEbjbkMvImMwgWGvUnKXl4bPUR4OnL-Epk,5511
-odoo/addons/datev_export_xml/views/templates.xml,sha256=kmVubh_FiVF5QsEkLvP_XY7ENG2EcJSUluHT78wPkDs,8894
+odoo/addons/datev_export_xml/views/templates.xml,sha256=L3QH5-WTFSACpwxSmun6qj6gf7PpWDYkrQwHiNUwV_U,7935
 odoo/addons/datev_export_xml/xsd_files/Belegverwaltung_online_invoice_v050.xsd,sha256=ZkRno-ctRfqKMszSIVjTkZVpWAMqvXfYAB-IIYXFstM,28848
 odoo/addons/datev_export_xml/xsd_files/Belegverwaltung_online_types_v050.xsd,sha256=olYRhs5GtoQUk58m17rOB4LtbvzmxLVAao9SQfDGnxY,88868
 odoo/addons/datev_export_xml/xsd_files/Document_types_v050.xsd,sha256=XSi3eeVQu6Y88z-HAHAsqpCjHvMC9UHxLTVU6SY-E5Q,18456
 odoo/addons/datev_export_xml/xsd_files/Document_v050.xsd,sha256=W2lKGbHSX4rK8kFHO6W37XfgtzxMr9zSxaYI7zqqBBI,15489
-odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/METADATA,sha256=R_mQvlwSJ8KrD02fQabyMMtvcLI4idXcZf6Mpr_3NIg,18903
-odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_datev_export_xml-15.0.1.0.1.1.dist-info/RECORD,,
+odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/METADATA,sha256=0AgxDLNz0JfncJFBaL6RJKsHqJWohVgIzj66Pw-2C98,18971
+odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_datev_export_xml-16.0.1.0.1.dist-info/RECORD,,
```

