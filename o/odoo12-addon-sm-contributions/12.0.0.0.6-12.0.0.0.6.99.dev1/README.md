# Comparing `tmp/odoo12_addon_sm_contributions-12.0.0.0.6-py2.py3-none-any.whl.zip` & `tmp/odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,38 +1,38 @@
-Zip file size: 57192 bytes, number of entries: 36
--rw-r--r--  2.0 unx       67 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/__init__.py
--rw-r--r--  2.0 unx     1606 b- defN 22-Jan-03 11:58 odoo/addons/sm_contributions/__manifest__.py
--rw-r--r--  2.0 unx      871 b- defN 22-Jan-03 09:10 odoo/addons/sm_contributions/data/sm_account_journal.xml
--rw-r--r--  2.0 unx     1979 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/email_tmpl/contributions_contract.xml
--rw-r--r--  2.0 unx     1985 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/email_tmpl/contributions_contract_2.xml
--rw-r--r--  2.0 unx     1985 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/email_tmpl/contributions_contract_3.xml
--rw-r--r--  2.0 unx     2047 b- defN 22-Jan-03 11:51 odoo/addons/sm_contributions/email_tmpl/contributions_year_line.xml
--rw-r--r--  2.0 unx      267 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/models/__init__.py
--rw-r--r--  2.0 unx      644 b- defN 22-Jan-03 11:43 odoo/addons/sm_contributions/models/models_sm_company.py
--rw-r--r--  2.0 unx     9158 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/models/models_sm_contribution.py
--rw-r--r--  2.0 unx      693 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/models/models_sm_contribution_interest.py
--rw-r--r--  2.0 unx     8020 b- defN 22-Jan-03 11:51 odoo/addons/sm_contributions/models/models_sm_contribution_line.py
--rw-r--r--  2.0 unx      514 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/models/models_sm_contribution_type.py
--rw-r--r--  2.0 unx      881 b- defN 22-Jan-03 11:43 odoo/addons/sm_contributions/models/models_sm_res_config_settings.py
--rw-r--r--  2.0 unx    14865 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/report/sm_contributions_contract.xml
--rw-r--r--  2.0 unx    15920 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/report/sm_contributions_contract_2.xml
--rw-r--r--  2.0 unx    15348 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/report/sm_contributions_contract_3.xml
--rw-r--r--  2.0 unx     5101 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/report/sm_contributions_report.xml
--rw-r--r--  2.0 unx     8897 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/report/sm_contributions_report_line.xml
--rw-r--r--  2.0 unx      617 b- defN 21-Dec-27 16:55 odoo/addons/sm_contributions/security/ir.model.access.csv
--rw-r--r--  2.0 unx    21482 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/static/firm.png
--rw-r--r--  2.0 unx      152 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/views/views.xml
--rw-r--r--  2.0 unx     4029 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/views/views_contribution.xml
--rw-r--r--  2.0 unx     1783 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/views/views_contribution_interest.xml
--rw-r--r--  2.0 unx     3344 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/views/views_contribution_line.xml
--rw-r--r--  2.0 unx     1685 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/views/views_contribution_type.xml
--rw-r--r--  2.0 unx     1293 b- defN 22-Jan-03 11:43 odoo/addons/sm_contributions/views/views_res_config_settings.xml
--rw-r--r--  2.0 unx       79 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/wizards/__init__.py
--rw-r--r--  2.0 unx     1486 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/wizards/wizards_sm_date_picker.py
--rw-r--r--  2.0 unx      650 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/wizards/wizards_sm_date_picker.xml
--rw-r--r--  2.0 unx     1215 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/wizards/wizards_sm_select_year_line.py
--rw-r--r--  2.0 unx      799 b- defN 21-Nov-12 15:03 odoo/addons/sm_contributions/wizards/wizards_sm_select_year_line.xml
--rw-r--r--  2.0 unx      474 b- defN 22-Jan-03 11:59 odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/METADATA
--rw-r--r--  2.0 unx      110 b- defN 22-Jan-03 11:59 odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 22-Jan-03 11:59 odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     4156 b- defN 22-Jan-03 11:59 odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/RECORD
-36 files, 134207 bytes uncompressed, 50088 bytes compressed:  62.7%
+Zip file size: 57365 bytes, number of entries: 36
+-rw-rw-r--  2.0 unx       67 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/__init__.py
+-rw-rw-r--  2.0 unx     1422 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/__manifest__.py
+-rw-rw-r--  2.0 unx      871 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/data/sm_account_journal.xml
+-rw-rw-r--  2.0 unx     1979 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/email_tmpl/contributions_contract.xml
+-rw-rw-r--  2.0 unx     1985 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/email_tmpl/contributions_contract_2.xml
+-rw-rw-r--  2.0 unx     1985 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/email_tmpl/contributions_contract_3.xml
+-rw-rw-r--  2.0 unx     2047 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/email_tmpl/contributions_year_line.xml
+-rw-rw-r--  2.0 unx      267 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/models/__init__.py
+-rw-rw-r--  2.0 unx      719 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/models/models_sm_company.py
+-rw-rw-r--  2.0 unx    10871 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/models/models_sm_contribution.py
+-rw-rw-r--  2.0 unx      751 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/models/models_sm_contribution_interest.py
+-rw-rw-r--  2.0 unx     9542 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/models/models_sm_contribution_line.py
+-rw-rw-r--  2.0 unx      551 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/models/models_sm_contribution_type.py
+-rw-rw-r--  2.0 unx      940 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/models/models_sm_res_config_settings.py
+-rw-rw-r--  2.0 unx    14865 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/report/sm_contributions_contract.xml
+-rw-rw-r--  2.0 unx    15920 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/report/sm_contributions_contract_2.xml
+-rw-rw-r--  2.0 unx    15348 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/report/sm_contributions_contract_3.xml
+-rw-rw-r--  2.0 unx     5101 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/report/sm_contributions_report.xml
+-rw-rw-r--  2.0 unx     8897 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/report/sm_contributions_report_line.xml
+-rw-rw-r--  2.0 unx      617 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/security/ir.model.access.csv
+-rw-rw-r--  2.0 unx    21482 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/static/firm.png
+-rw-rw-r--  2.0 unx      152 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/views/views.xml
+-rw-rw-r--  2.0 unx     4029 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/views/views_contribution.xml
+-rw-rw-r--  2.0 unx     1783 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/views/views_contribution_interest.xml
+-rw-rw-r--  2.0 unx     3344 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/views/views_contribution_line.xml
+-rw-rw-r--  2.0 unx     1685 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/views/views_contribution_type.xml
+-rw-rw-r--  2.0 unx     1293 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/views/views_res_config_settings.xml
+-rw-rw-r--  2.0 unx       79 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/wizards/__init__.py
+-rw-rw-r--  2.0 unx     1486 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/wizards/wizards_sm_date_picker.py
+-rw-rw-r--  2.0 unx      650 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/wizards/wizards_sm_date_picker.xml
+-rw-rw-r--  2.0 unx     1215 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/wizards/wizards_sm_select_year_line.py
+-rw-rw-r--  2.0 unx      799 b- defN 23-Dec-19 17:24 odoo/addons/sm_contributions/wizards/wizards_sm_select_year_line.xml
+-rw-rw-r--  2.0 unx      481 b- defN 24-May-10 10:52 odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/METADATA
+-rw-rw-r--  2.0 unx      110 b- defN 24-May-10 10:52 odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        5 b- defN 24-May-10 10:52 odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4189 b- defN 24-May-10 10:52 odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/RECORD
+36 files, 137527 bytes uncompressed, 50197 bytes compressed:  63.5%
```

## zipnote {}

```diff
@@ -90,20 +90,20 @@
 
 Filename: odoo/addons/sm_contributions/wizards/wizards_sm_select_year_line.py
 Comment: 
 
 Filename: odoo/addons/sm_contributions/wizards/wizards_sm_select_year_line.xml
 Comment: 
 
-Filename: odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/METADATA
+Filename: odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/METADATA
 Comment: 
 
-Filename: odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/WHEEL
+Filename: odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/WHEEL
 Comment: 
 
-Filename: odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/top_level.txt
+Filename: odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/RECORD
+Filename: odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/sm_contributions/__manifest__.py

```diff
@@ -7,22 +7,19 @@
     """,
 
     'description': """""",
 
     'author': "Som Mobilitat",
     'website': "https://www.sommobilitat.coop",
 
-    # Categories can be used to filter modules in modules listing
-    # Check https://github.com/odoo/odoo/blob/master/openerp/addons/base/module/module_data.xml
-    # for the full list
     'category': 'vertical-cooperative',
     'version': '12.0.0.0.6',
 
     # any module necessary for this one to work correctly
-    'depends': ['base','mail','vertical_carsharing'],
+    'depends': ['base', 'mail', 'vertical_carsharing'],
 
     # always loaded
     'data': [
         'security/ir.model.access.csv',
         'data/sm_account_journal.xml',
         'views/views.xml',
         'views/views_res_config_settings.xml',
```

## odoo/addons/sm_contributions/models/models_sm_company.py

```diff
@@ -1,20 +1,25 @@
 # -*- coding: utf-8 -*-
 
-from odoo import models, fields, api
+from odoo import models, fields
 from odoo.tools.translate import _
 
 
 class sm_company(models.Model):
-  _inherit = 'res.company'
+    _inherit = 'res.company'
 
-  sm_contribution_account_id = fields.Many2one('account.account',
-    string=_("Compte d'aportació (linies factura)"))
-
-  sm_contribution_invoice_account_id = fields.Many2one('account.account',
-    string=_("Compte d'aportació (factura)"))
-
-  contribution_year_report_email_template_id = fields.Many2one('mail.template',
-    string=_("Contribution year report"))
-
-  sm_contribution_tax_account_id = fields.Many2one('account.account',
-    string=_("Compte d'interessos d'aportació"))
+    sm_contribution_account_id = fields.Many2one(
+        'account.account',
+        string=_("Compte d'aportació (linies factura)")
+    )
+    sm_contribution_invoice_account_id = fields.Many2one(
+        'account.account',
+        string=_("Compte d'aportació (factura)")
+    )
+    contribution_year_report_email_template_id = fields.Many2one(
+        'mail.template',
+        string=_("Contribution year report")
+    )
+    sm_contribution_tax_account_id = fields.Many2one(
+        'account.account',
+        string=_("Compte d'interessos d'aportació")
+    )
```

## odoo/addons/sm_contributions/models/models_sm_contribution.py

```diff
@@ -4,255 +4,286 @@
 import datetime as dt
 from monthdelta import monthdelta
 from odoo import models, fields, api
 from odoo.tools.translate import _
 
 
 def get_datetime_object_from_string(string_date):
-  formatter_string = "%Y-%m-%d"
-  return datetime.strptime(str(string_date), formatter_string)
+    formatter_string = "%Y-%m-%d"
+    return datetime.strptime(str(string_date), formatter_string)
 
 
 def get_first_day_of_a_year(year):
-  return dt.date(year, 1, 1)
+    return dt.date(year, 1, 1)
 
 
 def get_last_day_of_a_year(year):
-  return dt.date(year, 12, 31)
+    return dt.date(year, 12, 31)
 
 
 def clean_contributions_line(record):
-  for line in record.contributions_line:
-    line.unlink()
+    for line in record.contributions_line:
+        line.unlink()
 
 
 class sm_contribution(models.Model):
-  _name = 'sm_contributions.sm_contribution'
+    _name = 'sm_contributions.sm_contribution'
 
-  name = fields.Char(string=_("Name"), compute="compute_name")
-  associated_member = fields.Many2one('res.partner', string=_("Member"), required=True)
-  initial_import = fields.Float(string=_("Import"), required=True, digits=(16, 0))
-  initial_import_txt = fields.Char(string=_("Import text"), required=True)
-
-  contributions_quantity = fields.Float(string=_("Number of contributions"), digits=(16, 0),
-    compute="compute_contributions_quantity")
-
-  contract_number = fields.Integer(string=_("Contract number"))
-  initial_day = fields.Date(string=_("Initial day"), required=True)
-  expiration_day = fields.Date(string=_("Expiration day"), compute="compute_expiration_day")
-
-  returned = fields.Float(string=_("Returned"), digits=(16, 0))
-
-  contributions_line = fields.One2many('sm_contributions.sm_contribution_line',
-    'associated_contribution', "Lines",
-    compute="compute_contributions_lines", store=True)
-
-  contribution_type = fields.Many2one('sm_contributions.sm_contribution_type', string=_("Type"), required=True)
-  
-  contribution_email_template_id = fields.Many2one('mail.template', string=_('Plantilla'),
-    compute="compute_contribution_email_template")
-
-  closed_day = fields.Date(string=_("Closed day"))
-  contract_email_sent = fields.Boolean(string=_("Contract email sent"), default=False)
-
-  upload_file = fields.Binary(string="Contract signed")
-  file_name = fields.Char(string="File Name")
-
-  @api.model
-  def create(self, vals):
-    vals['contract_number'] = self.get_new_id()
-    result = super(sm_contribution, self).create(vals)
-    return result
-
-  def get_new_id(self):
-    count = self.env['sm_contributions.sm_contribution'].search([],
-      order="contract_number desc",limit=1).contract_number
-    new_id = count + 1
-    return new_id
-
-  @api.constrains('closed_day')
-  def compute_closing_day(self):
-    for record in self:
-      if record.closed_day:
-        clean_contributions_line(record)
-        record.returned = record.initial_import
-
-  @api.depends('initial_day', 'contribution_type.duration')
-  def compute_expiration_day(self):
-    for record in self:
-      if record.initial_day:
-        type_months = record.contribution_type.duration
-        initial_date = get_datetime_object_from_string(str(record.initial_day))
-        record.expiration_day = str(initial_date + monthdelta(type_months) + dt.timedelta(days=1))
-
-  @api.depends('initial_import')
-  def compute_contributions_quantity(self):
-    for record in self:
-      record.contributions_quantity = record.initial_import / 100
-
-  @api.multi
-  def compute_name(self):
-    for record in self:
-      first_year = ''
-      last_year = ''
-
-      if record.initial_day:
-        first_year = get_datetime_object_from_string(str(record.initial_day)).year
-      if record.expiration_day:
-        last_year = get_datetime_object_from_string(str(record.expiration_day)).year
-
-      years = str(first_year) + "-" + str(last_year)
-
-      record.name = str(record.contract_number) + "-" + record.associated_member.name + "-" + years
-
-
-  @api.constrains('initial_day', 'expiration_day', 'closed_day')
-  def compute_contributions_lines(self):
-    for record in self:
-
-      if record.initial_day:
-        clean_contributions_line(record)
-        initial_day = get_datetime_object_from_string(str(record.initial_day))
-
-        if record.closed_day:
-          final_day = get_datetime_object_from_string(str(record.closed_day))
-        else:
-          final_day = get_datetime_object_from_string(str(record.expiration_day))
-
-        first_year = initial_day.year
-        last_year = final_day.year
-  
-        diff_years = abs(last_year - first_year)
-
-        total_year = diff_years + 1
-
-        for index_year in range(0, total_year):
-          current_year = first_year + index_year
-
-          if current_year == first_year:
-            first_day = initial_day
-          else:
-            first_day = get_first_day_of_a_year(current_year)
-
-          if current_year == last_year:
-            last_day = final_day
-          else:
-            last_day = get_last_day_of_a_year(current_year)
-
-          self.create_contribution_line(first_day, last_day)
- 
-  @api.depends('contribution_type.template_id')
-  def compute_contribution_email_template(self):
-    for record in self:
-      if record.contribution_type:
-        record.contribution_email_template_id = record.contribution_type.template_id
-
-  def create_contribution_line(self, initial_day, final_day):
-    con_lin_mod = self.env['sm_contributions.sm_contribution_line']
-    self.ensure_one()
-
-    new_contribution_line = con_lin_mod.create({
-      'associated_contribution': self.id,
-      'initial_day': initial_day,
-      'final_day': final_day
-    })
-
-    return new_contribution_line
-
-  # Methods from actions
-
-  @api.model
-  def close_contribution_from_action(self):
-    if self.env.context:
-      if 'active_ids' in self.env.context:
-        active_contributions = self.env['sm_contributions.sm_contribution'].browse(
-          self.env.context['active_ids'])
-        if active_contributions.exists():
-          for contribution in active_contributions:
-            clean_contributions_line(contribution)
-            now = datetime.now()
-
-            contribution.returned = contribution.initial_import
-            contribution.expiration_day = now
-
-  @api.model
-  def select_closing_date(self):
-    if self.env.context:
-      if 'active_ids' in self.env.context:
-        active_contributions = self.env['sm_contributions.sm_contribution'].browse(
-          self.env.context['active_ids'])
-        if active_contributions.exists():
-          for contribution in active_contributions:
-            view_id = self.env['sm_contributions.date_picker.wizard']
-            new = view_id.create({
-              'parent_model': contribution.id,
-              'year': contribution.contributions_line,
+    name = fields.Char(string=_("Name"), compute="compute_name")
+    associated_member = fields.Many2one(
+        'res.partner',
+        string=_("Member"),
+        required=True
+    )
+    initial_import = fields.Float(
+        string=_("Import"),
+        required=True,
+        digits=(16, 0)
+    )
+    initial_import_txt = fields.Char(
+        string=_("Import text"),
+        required=True
+    )
+    contributions_quantity = fields.Float(
+        string=_("Number of contributions"),
+        digits=(16, 0),
+        compute="compute_contributions_quantity"
+    )
+    contract_number = fields.Integer(string=_("Contract number"))
+    initial_day = fields.Date(string=_("Initial day"), required=True)
+    expiration_day = fields.Date(
+        string=_("Expiration day"),
+        compute="compute_expiration_day"
+    )
+
+    returned = fields.Float(string=_("Returned"), digits=(16, 0))
+    contributions_line = fields.One2many(
+        'sm_contributions.sm_contribution_line',
+        'associated_contribution', "Lines",
+        compute="compute_contributions_lines",
+        store=True
+    )
+    contribution_type = fields.Many2one(
+        'sm_contributions.sm_contribution_type',
+        string=_("Type"),
+        required=True
+    )
+    contribution_email_template_id = fields.Many2one(
+        'mail.template', string=_('Plantilla'),
+        compute="compute_contribution_email_template"
+    )
+    closed_day = fields.Date(string=_("Closed day"))
+    contract_email_sent = fields.Boolean(
+        string=_("Contract email sent"), default=False)
+    upload_file = fields.Binary(string="Contract signed")
+    file_name = fields.Char(string="File Name")
+
+    @api.model
+    def create(self, vals):
+        vals['contract_number'] = self.get_new_id()
+        result = super(sm_contribution, self).create(vals)
+        return result
+
+    def get_new_id(self):
+        count = self.env['sm_contributions.sm_contribution'].search(
+            [],
+            order="contract_number desc",
+            limit=1
+        ).contract_number
+        new_id = count + 1
+        return new_id
+
+    @api.constrains('closed_day')
+    def compute_closing_day(self):
+        for record in self:
+            if record.closed_day:
+                clean_contributions_line(record)
+                record.returned = record.initial_import
+
+    @api.depends('initial_day', 'contribution_type.duration')
+    def compute_expiration_day(self):
+        for record in self:
+            if record.initial_day:
+                type_months = record.contribution_type.duration
+                initial_date = get_datetime_object_from_string(
+                    str(record.initial_day))
+                record.expiration_day = str(
+                    initial_date + monthdelta(type_months) + dt.timedelta(days=1))
+
+    @api.depends('initial_import')
+    def compute_contributions_quantity(self):
+        for record in self:
+            record.contributions_quantity = record.initial_import / 100
+
+    @api.multi
+    def compute_name(self):
+        for record in self:
+            first_year = ''
+            last_year = ''
+
+            if record.initial_day:
+                first_year = get_datetime_object_from_string(
+                    str(record.initial_day)).year
+            if record.expiration_day:
+                last_year = get_datetime_object_from_string(
+                    str(record.expiration_day)).year
+
+            years = str(first_year) + "-" + str(last_year)
+
+            record.name = str(record.contract_number) + "-" + \
+                record.associated_member.name + "-" + years
+
+    @api.constrains('initial_day', 'expiration_day', 'closed_day')
+    def compute_contributions_lines(self):
+        for record in self:
+
+            if record.initial_day:
+                clean_contributions_line(record)
+                initial_day = get_datetime_object_from_string(
+                    str(record.initial_day))
+
+                if record.closed_day:
+                    final_day = get_datetime_object_from_string(
+                        str(record.closed_day))
+                else:
+                    final_day = get_datetime_object_from_string(
+                        str(record.expiration_day))
+
+                first_year = initial_day.year
+                last_year = final_day.year
+
+                diff_years = abs(last_year - first_year)
+
+                total_year = diff_years + 1
+
+                for index_year in range(0, total_year):
+                    current_year = first_year + index_year
+
+                    if current_year == first_year:
+                        first_day = initial_day
+                    else:
+                        first_day = get_first_day_of_a_year(current_year)
+
+                    if current_year == last_year:
+                        last_day = final_day
+                    else:
+                        last_day = get_last_day_of_a_year(current_year)
+
+                    self.create_contribution_line(first_day, last_day)
+
+    @api.depends('contribution_type.template_id')
+    def compute_contribution_email_template(self):
+        for record in self:
+            if record.contribution_type:
+                record.contribution_email_template_id = record.contribution_type.template_id
+
+    def create_contribution_line(self, initial_day, final_day):
+        con_lin_mod = self.env['sm_contributions.sm_contribution_line']
+        self.ensure_one()
+
+        new_contribution_line = con_lin_mod.create({
+            'associated_contribution': self.id,
+            'initial_day': initial_day,
+            'final_day': final_day
+        })
+
+        return new_contribution_line
+
+    # Methods from actions
+
+    @api.model
+    def close_contribution_from_action(self):
+        if self.env.context:
+            if 'active_ids' in self.env.context:
+                active_contributions = self.env['sm_contributions.sm_contribution'].browse(
+                    self.env.context['active_ids'])
+                if active_contributions.exists():
+                    for contribution in active_contributions:
+                        clean_contributions_line(contribution)
+                        now = datetime.now()
+
+                        contribution.returned = contribution.initial_import
+                        contribution.expiration_day = now
+
+    @api.model
+    def select_closing_date(self):
+        if self.env.context:
+            if 'active_ids' in self.env.context:
+                active_contributions = self.env['sm_contributions.sm_contribution'].browse(
+                    self.env.context['active_ids'])
+                if active_contributions.exists():
+                    for contribution in active_contributions:
+                        view_id = self.env['sm_contributions.date_picker.wizard']
+                        new = view_id.create({
+                            'parent_model': contribution.id,
+                            'year': contribution.contributions_line,
+                        })
+
+                        return {
+                            'type': 'ir.actions.act_window',
+                            'name': 'Date picker',
+                            'res_model': 'sm_contributions.date_picker.wizard',
+                            'view_type': 'form',
+                            'view_mode': 'form',
+                            'res_id': new.id,
+                            'view_id': self.env.ref('sm_contributions.data_picker_wizard', False).id,
+                            'target': 'new',
+                        }
+
+    @api.model
+    def send_year_report_email_from_action(self):
+        if self.env.context:
+            if 'active_ids' in self.env.context:
+                active_contributions = self.env['sm_contributions.sm_contribution'].browse(
+                    self.env.context['active_ids'])
+                if active_contributions.exists():
+                    for contribution in active_contributions:
+                        view_id = self.env['sm_contributions.contribution_line_selectable.wizard']
+                        new = view_id.create({
+                            'parent_model': contribution.id,
+                        })
+
+                        return {
+                            'type': 'ir.actions.act_window',
+                            'name': 'Date picker',
+                            'res_model': 'sm_contributions.contribution_line_selectable.wizard',
+                            'view_type': 'form',
+                            'view_mode': 'form',
+                            'res_id': new.id,
+                            'view_id': self.env.ref('sm_contributions.contribution_line_selectable_wizard', False).id,
+                            'target': 'new',
+                        }
+
+    def send_year_report_mail(self, record=None):
+        if record is None:
+            record = self
+
+        company = record.env.user.company_id
+        email_template = company.contribution_year_report_email_template_id
+        if email_template.id:
+            current_year = datetime.now().year
+            for line in record.contributions_line:
+                if int(line.year) == current_year:
+                    email_values = {'send_from_code': True}
+                    email_template.with_context(
+                        email_values).send_mail(line.id, True)
+                    line.year_report_sent = True
+                    break
+
+    @api.model
+    def send_contract_email_from_action(self):
+        if self.env.context:
+            if 'active_ids' in self.env.context:
+                active_contributions = self.env['sm_contributions.sm_contribution'].browse(
+                    self.env.context['active_ids'])
+                if active_contributions.exists():
+                    for contribution in active_contributions:
+                        contribution.send_contract_email()
+
+    def send_contract_email(self):
+        email_template = self.contribution_type.template_id
+        if email_template.id and self.contract_email_sent is False:
+            email_values = {'send_from_code': True}
+            email_template.with_context(email_values).send_mail(self.id, True)
+            self.write({
+                'contract_email_sent': True
             })
-
-            return {
-              'type': 'ir.actions.act_window',
-              'name': 'Date picker',
-              'res_model': 'sm_contributions.date_picker.wizard',
-              'view_type': 'form',
-              'view_mode': 'form',
-              'res_id': new.id,
-              'view_id': self.env.ref('sm_contributions.data_picker_wizard', False).id,
-              'target': 'new',
-            }
-
-  @api.model
-  def send_year_report_email_from_action(self):
-    if self.env.context:
-      if 'active_ids' in self.env.context:
-        active_contributions = self.env['sm_contributions.sm_contribution'].browse(
-          self.env.context['active_ids'])
-        if active_contributions.exists():
-          for contribution in active_contributions:
-            view_id = self.env['sm_contributions.contribution_line_selectable.wizard']
-            new = view_id.create({
-              'parent_model': contribution.id,
-            })
-
-            return {
-              'type': 'ir.actions.act_window',
-              'name': 'Date picker',
-              'res_model': 'sm_contributions.contribution_line_selectable.wizard',
-              'view_type': 'form',
-              'view_mode': 'form',
-              'res_id': new.id,
-              'view_id': self.env.ref('sm_contributions.contribution_line_selectable_wizard', False).id,
-              'target': 'new',
-            }
-
-  def send_year_report_mail(self, record=None):
-    if record is None:
-      record = self
-
-    company = record.env.user.company_id
-    email_template = company.contribution_year_report_email_template_id
-    if email_template.id:
-      current_year = datetime.now().year
-      for line in record.contributions_line:
-        if int(line.year) == current_year:
-          email_values = {'send_from_code': True}
-          email_template.with_context(email_values).send_mail(line.id, True)
-          line.year_report_sent = True
-          break
-
-  @api.model
-  def send_contract_email_from_action(self):
-    if self.env.context:
-      if 'active_ids' in self.env.context:
-        active_contributions = self.env['sm_contributions.sm_contribution'].browse(
-          self.env.context['active_ids'])
-        if active_contributions.exists():
-          for contribution in active_contributions:
-            contribution.send_contract_email()
-
-  def send_contract_email(self):
-    email_template = self.contribution_type.template_id
-    if email_template.id and self.contract_email_sent == False:
-      email_values = {'send_from_code': True}
-      email_template.with_context(email_values).send_mail(self.id, True)
-      self.write({
-        'contract_email_sent': True
-      })
```

## odoo/addons/sm_contributions/models/models_sm_contribution_interest.py

```diff
@@ -1,22 +1,25 @@
 # -*- coding: utf-8 -*-
 
 from odoo import models, fields, api
 from odoo.tools.translate import _
 
 
 class sm_contribution_interest(models.Model):
-  _name = 'sm_contributions.sm_contribution_interest'
+    _name = 'sm_contributions.sm_contribution_interest'
 
-  name = fields.Char(string=_("Name"), compute="compute_name")
-  year = fields.Integer(string=_("Year"))
-  interest = fields.Float(string=_("Interest"))
-  iva = fields.Float(string=_("IVA"))
-  type = fields.Many2one('sm_contributions.sm_contribution_type', string=_("Type"))
-
-  _order = "year desc"
-
-  @api.depends('year', 'type.name')
-  def compute_name(self):
-    for record in self:
-      if record.type.name and record.year:
-        record.name = record.type.name + "-" + str(record.year)
+    name = fields.Char(string=_("Name"), compute="compute_name")
+    year = fields.Integer(string=_("Year"))
+    interest = fields.Float(string=_("Interest"))
+    iva = fields.Float(string=_("IVA"))
+    type = fields.Many2one(
+        'sm_contributions.sm_contribution_type',
+        string=_("Type")
+    )
+
+    _order = "year desc"
+
+    @api.depends('year', 'type.name')
+    def compute_name(self):
+        for record in self:
+            if record.type.name and record.year:
+                record.name = record.type.name + "-" + str(record.year)
```

## odoo/addons/sm_contributions/models/models_sm_contribution_line.py

```diff
@@ -4,196 +4,234 @@
 
 from odoo import models, fields, api, exceptions
 from odoo.tools.translate import _
 from odoo.addons.sm_maintenance.models.models_sm_resources import sm_resources
 
 
 def get_datetime_object_from_string(string_date):
-  formatter_string = "%Y-%m-%d"
-  return datetime.strptime(str(string_date), formatter_string)
+    formatter_string = "%Y-%m-%d"
+    return datetime.strptime(str(string_date), formatter_string)
 
 
 def calculate_days_between_two_dates(date1, date2):
-  return abs((date1 - date2).days)
+    return abs((date1 - date2).days)
 
 
 YEAR_DAYS = 364
 
 
 class sm_contribution_line(models.Model):
-  _name = 'sm_contributions.sm_contribution_line'
+    _name = 'sm_contributions.sm_contribution_line'
 
-  _resources = sm_resources.getInstance()
-
-  name = fields.Char(string=_("Name"), compute="compute_name")
-  id = fields.Char(string=_("Id"))
-  associated_contribution = fields.Many2one('sm_contributions.sm_contribution',
-    string=_("Associated contribution"),ondelete='cascade')
-  initial_day = fields.Date(string=_("Initial day"))
-  initial_day_str = fields.Char(string=_("Initial day (str)"),compute="_get_initial_day_str",store=False)
-  final_day = fields.Date(string=_("Final day"))
-  number_of_days = fields.Integer(string=_("Number of days"), compute="compute_number_of_days")
-  interest = fields.Float(string=_("Interest"), compute="compute_interest")
-  import_free_tax = fields.Float(string=_("Import free tax"), compute="compute_import_free_tax",
-    store=False,digits=(16, 2))
-  tax = fields.Float(string=_("Tax"), compute="compute_tax", store=False, digits=(16, 2))
-  import_to_deposit_to_account = fields.Float(string=_("Import to deposit"),
-    compute="compute_import_to_deposit_to_account",store=False,digits=(16, 2))
-  iva = fields.Float(string=_("IVA"), compute="compute_iva")
-  year = fields.Char(string=_("Year"), compute="compute_year", store=True)
-  interest_model = fields.Many2one('sm_contributions.sm_contribution_interest', 'Related interest',
-    compute="compute_interest_model")
-
-  year_report_sent = fields.Boolean(string=_("Report sent"), default=False)
-
-  related_member_id = fields.Many2one("res.partner",string=_("Related Member"),compute="_get_related_member",store=False)
-
-  @api.depends('initial_day')
-  def _get_initial_day_str(self):
-    for record in self:
-      record.initial_day_str = str(record.initial_day)
-
-  @api.depends('associated_contribution')
-  def _get_related_member(self):
-    for record in self:
-      if record.associated_contribution.id != False:
-        record.related_member_id = record.associated_contribution.associated_member
-
-
-  @api.depends('initial_day')
-  def compute_year(self):
-    for record in self:
-      if record.initial_day:
-        record.year = str(get_datetime_object_from_string(str(record.initial_day)).year)
-
-  @api.depends('interest_model.interest')
-  def compute_interest(self):
-    for record in self:
-      record.interest = record.interest_model.interest
-
-  @api.depends('interest_model.iva')
-  def compute_iva(self):
-    for record in self:
-      record.interest = record.interest_model.iva
-
-  @api.multi
-  def compute_name(self):
-    for record in self:
-      current_year = get_datetime_object_from_string(str(record.initial_day)).year
-      current_year_string = str(current_year)
-
-      if record.associated_contribution:
-        if record.associated_contribution.name:
-          record.name = record.associated_contribution.name + "_" + current_year_string
-
-  @api.multi
-  def compute_number_of_days(self):
-    for record in self:
-      initial_day = get_datetime_object_from_string(str(record.initial_day))
-      final_day = get_datetime_object_from_string(str(record.final_day))
-
-      record.number_of_days = calculate_days_between_two_dates(initial_day, final_day)
-
-  @api.depends('number_of_days', 'interest', 'associated_contribution.initial_import')
-  def compute_import_free_tax(self):
-    for record in self:
-      interest_percentage = float(record.interest) / 100
-
-      import_free_tax = float(record.number_of_days) / YEAR_DAYS * float(
-        record.associated_contribution.initial_import) * interest_percentage
-
-      record.import_free_tax = import_free_tax
-
-  @api.depends('import_free_tax')
-  def compute_tax(self):
-    for record in self:
-      record.tax = float(record.import_free_tax) * (float(record.interest_model.iva) / 100)
-
-  @api.depends('import_free_tax', 'tax')
-  def compute_import_to_deposit_to_account(self):
-    for record in self:
-      record.import_to_deposit_to_account = record.import_free_tax - record.tax
-
-  @api.depends('associated_contribution.contribution_type', 'year')
-  def compute_interest_model(self):
-    for record in self:
-      model_interests = record.associated_contribution.contribution_type.historical
-      record.interest_model = self.get_interest_model(model_interests, int(record.year))
-
-  def get_interest_model(self, interest_list, year_to_search):
-    for interest in interest_list:
-      if interest.year == year_to_search:
-        return interest.id
-
-    return self.get_closet_year(interest_list, year_to_search)
-
-  def get_closet_year(self, interest_year, year):
-    from collections import OrderedDict
-    import collections
-
-    diff_dict = OrderedDict()
-
-    for line in interest_year:
-      diff = int(line.year) - year
-      if diff < 0:
-        diff_dict[line] = diff * (-1)
-      else:
-        diff_dict[line] = diff
-
-    diff_dict = collections.OrderedDict(reversed(list(diff_dict.items())))
-    sort_dict_keys = sorted(diff_dict.keys())
-
-    closer_less = None
-
-    for closer in sort_dict_keys:
-      if closer.year < year:
-        closer_less = closer
-
-    return closer_less
-
-  @api.model
-  def generate_related_invoice(self):
-    if self.env.context:
-      company = self.env.user.company_id
-      if 'active_ids' in self.env.context:
-        active_contribution_lines = self.env['sm_contributions.sm_contribution_line'].browse(self.env.context['active_ids'])
-        if active_contribution_lines.exists():
-          for line in active_contribution_lines:
-            related_member = line.related_member_id
-            if related_member.id != False:
-              # not grouped
-              ir_model_data_journal = self.env['ir.model.data'].search([('model','=','account.journal'),('name','=','account_journal_sm_contributions')])
-              if not ir_model_data_journal.exists():
-                raise exceptions.ValidationError(_("Journal needed to generate the invoices doesn't exist. Please contact the administrator."))
-              invoice = self.env['account.invoice'].create({
-                'partner_id': related_member.id,
-                'company_id': 1,
-                'state': 'draft',
-                'type': 'in_invoice',
-                'invoice_email_sent': False,
-                'journal_id': ir_model_data_journal.res_id,
-                'account_id': company.sm_contribution_invoice_account_id.id,
-                'date_invoice': str(datetime.now())
-              })
-              invoice_line_name = _("Interessos totals anuals ")+"("+line.year+")"
-              aportacio_line = self.env['account.invoice.line'].create({
-                'name': invoice_line_name,
-                'invoice_id': invoice.id,
-                'price_unit': line.import_free_tax,
-                'quantity': 1,
-                'discount': 0,
-                'account_id': company.sm_contribution_account_id.id,
-                'line_type': 'default',
-              })
-              invoice_line_name = _("Retenció IRPF IS ") + "(" + line.year + ")"
-              tax_line = self.env['account.invoice.line'].create({
-                'name': invoice_line_name,
-                'invoice_id': invoice.id,
-                'price_unit': -1 * line.tax,
-                'quantity': 1,
-                'discount': 0,
-                'account_id': company.sm_contribution_tax_account_id.id,
-                'line_type': 'default',
-              })
-          return self._resources.get_successful_action_message(self,_('Invoice successfully created'),self._name)
-    return self._resources.get_successful_action_message(self,_("ERROR: operation couldn't be done"),self._name)
+    _resources = sm_resources.getInstance()
 
+    name = fields.Char(string=_("Name"), compute="compute_name")
+    id = fields.Char(string=_("Id"))
+    associated_contribution = fields.Many2one(
+        'sm_contributions.sm_contribution',
+        string=_("Associated contribution"),
+        ondelete='cascade'
+    )
+    initial_day = fields.Date(string=_("Initial day"))
+    initial_day_str = fields.Char(
+        string=_("Initial day (str)"),
+        compute="_get_initial_day_str",
+        store=False
+    )
+    final_day = fields.Date(string=_("Final day"))
+    number_of_days = fields.Integer(
+        string=_("Number of days"),
+        compute="compute_number_of_days"
+    )
+    interest = fields.Float(string=_("Interest"), compute="compute_interest")
+    import_free_tax = fields.Float(
+        string=_("Import free tax"),
+        compute="compute_import_free_tax",
+        store=False,
+        digits=(16, 2)
+    )
+    tax = fields.Float(
+        string=_("Tax"),
+        compute="compute_tax",
+        store=False,
+        digits=(16, 2)
+    )
+    import_to_deposit_to_account = fields.Float(
+        string=_("Import to deposit"),
+        compute="compute_import_to_deposit_to_account",
+        store=False,
+        digits=(16, 2)
+    )
+    iva = fields.Float(string=_("IVA"), compute="compute_iva")
+    year = fields.Char(string=_("Year"), compute="compute_year", store=True)
+    interest_model = fields.Many2one(
+        'sm_contributions.sm_contribution_interest',
+        'Related interest',
+        compute="compute_interest_model"
+    )
+    year_report_sent = fields.Boolean(string=_("Report sent"), default=False)
+    related_member_id = fields.Many2one(
+        "res.partner",
+        string=_("Related Member"),
+        compute="_get_related_member",
+        store=False
+    )
+
+    @api.depends('initial_day')
+    def _get_initial_day_str(self):
+        for record in self:
+            record.initial_day_str = str(record.initial_day)
+
+    @api.depends('associated_contribution')
+    def _get_related_member(self):
+        for record in self:
+            if record.associated_contribution.id != False:
+                record.related_member_id = record.associated_contribution.associated_member
+
+    @api.depends('initial_day')
+    def compute_year(self):
+        for record in self:
+            if record.initial_day:
+                record.year = str(get_datetime_object_from_string(
+                    str(record.initial_day)).year)
+
+    @api.depends('interest_model.interest')
+    def compute_interest(self):
+        for record in self:
+            record.interest = record.interest_model.interest
+
+    @api.depends('interest_model.iva')
+    def compute_iva(self):
+        for record in self:
+            record.interest = record.interest_model.iva
+
+    @api.multi
+    def compute_name(self):
+        for record in self:
+            current_year = get_datetime_object_from_string(
+                str(record.initial_day)).year
+            current_year_string = str(current_year)
+
+            if record.associated_contribution:
+                if record.associated_contribution.name:
+                    record.name = record.associated_contribution.name + "_" + current_year_string
+
+    @api.multi
+    def compute_number_of_days(self):
+        for record in self:
+            initial_day = get_datetime_object_from_string(
+                str(record.initial_day))
+            final_day = get_datetime_object_from_string(str(record.final_day))
+
+            record.number_of_days = calculate_days_between_two_dates(
+                initial_day, final_day)
+
+    @api.depends('number_of_days', 'interest', 'associated_contribution.initial_import')
+    def compute_import_free_tax(self):
+        for record in self:
+            interest_percentage = float(record.interest) / 100
+
+            import_free_tax = float(record.number_of_days) / YEAR_DAYS * float(
+                record.associated_contribution.initial_import) * interest_percentage
+
+            record.import_free_tax = import_free_tax
+
+    @api.depends('import_free_tax')
+    def compute_tax(self):
+        for record in self:
+            record.tax = float(record.import_free_tax) * \
+                (float(record.interest_model.iva) / 100)
+
+    @api.depends('import_free_tax', 'tax')
+    def compute_import_to_deposit_to_account(self):
+        for record in self:
+            record.import_to_deposit_to_account = record.import_free_tax - record.tax
+
+    @api.depends('associated_contribution.contribution_type', 'year')
+    def compute_interest_model(self):
+        for record in self:
+            model_interests = record.associated_contribution.contribution_type.historical
+            record.interest_model = self.get_interest_model(
+                model_interests, int(record.year))
+
+    def get_interest_model(self, interest_list, year_to_search):
+        for interest in interest_list:
+            if interest.year == year_to_search:
+                return interest.id
+
+        return self.get_closet_year(interest_list, year_to_search)
+
+    def get_closet_year(self, interest_year, year):
+        from collections import OrderedDict
+        import collections
+
+        diff_dict = OrderedDict()
+
+        for line in interest_year:
+            diff = int(line.year) - year
+            if diff < 0:
+                diff_dict[line] = diff * (-1)
+            else:
+                diff_dict[line] = diff
+
+        diff_dict = collections.OrderedDict(reversed(list(diff_dict.items())))
+        sort_dict_keys = sorted(diff_dict.keys())
+
+        closer_less = None
+
+        for closer in sort_dict_keys:
+            if closer.year < year:
+                closer_less = closer
+
+        return closer_less
+
+    @api.model
+    def generate_related_invoice(self):
+        if self.env.context:
+            company = self.env.user.company_id
+            if 'active_ids' in self.env.context:
+                active_contribution_lines = self.env['sm_contributions.sm_contribution_line'].browse(
+                    self.env.context['active_ids'])
+                if active_contribution_lines.exists():
+                    for line in active_contribution_lines:
+                        related_member = line.related_member_id
+                        if related_member.id != False:
+                            # not grouped
+                            ir_model_data_journal = self.env['ir.model.data'].search(
+                                [('model', '=', 'account.journal'), ('name', '=', 'account_journal_sm_contributions')])
+                            if not ir_model_data_journal.exists():
+                                raise exceptions.ValidationError(
+                                    _("Journal needed to generate the invoices doesn't exist. Please contact the administrator."))
+                            invoice = self.env['account.invoice'].create({
+                                'partner_id': related_member.id,
+                                'company_id': 1,
+                                'state': 'draft',
+                                'type': 'in_invoice',
+                                'invoice_email_sent': False,
+                                'journal_id': ir_model_data_journal.res_id,
+                                'account_id': company.sm_contribution_invoice_account_id.id,
+                                'date_invoice': str(datetime.now())
+                            })
+                            invoice_line_name = _(
+                                "Interessos totals anuals ")+"("+line.year+")"
+                            aportacio_line = self.env['account.invoice.line'].create({
+                                'name': invoice_line_name,
+                                'invoice_id': invoice.id,
+                                'price_unit': line.import_free_tax,
+                                'quantity': 1,
+                                'discount': 0,
+                                'account_id': company.sm_contribution_account_id.id,
+                                'line_type': 'default',
+                            })
+                            invoice_line_name = _(
+                                "Retenció IRPF IS ") + "(" + line.year + ")"
+                            tax_line = self.env['account.invoice.line'].create({
+                                'name': invoice_line_name,
+                                'invoice_id': invoice.id,
+                                'price_unit': -1 * line.tax,
+                                'quantity': 1,
+                                'discount': 0,
+                                'account_id': company.sm_contribution_tax_account_id.id,
+                                'line_type': 'default',
+                            })
+                    return self._resources.get_successful_action_message(self, _('Invoice successfully created'), self._name)
+        return self._resources.get_successful_action_message(self, _("ERROR: operation couldn't be done"), self._name)
```

## odoo/addons/sm_contributions/models/models_sm_contribution_type.py

```diff
@@ -1,14 +1,17 @@
 # -*- coding: utf-8 -*-
 
 from odoo import models, fields, api
 from odoo.tools.translate import _
 
 
 class sm_contribution_type(models.Model):
-  _name = 'sm_contributions.sm_contribution_type'
+    _name = 'sm_contributions.sm_contribution_type'
 
-  name = fields.Char(string=_("Name"))
-  historical = fields.One2many(comodel_name='sm_contributions.sm_contribution_interest',
-    inverse_name='type',string=_("Interests"))
-  template_id = fields.Many2one('mail.template', string=_("Plantilla Email"))
-  duration = fields.Integer(string=_("Duration (Month)"), default=1)
+    name = fields.Char(string=_("Name"))
+    historical = fields.One2many(
+        comodel_name='sm_contributions.sm_contribution_interest',
+        inverse_name='type',
+        string=_("Interests")
+    )
+    template_id = fields.Many2one('mail.template', string=_("Plantilla Email"))
+    duration = fields.Integer(string=_("Duration (Month)"), default=1)
```

## odoo/addons/sm_contributions/models/models_sm_res_config_settings.py

```diff
@@ -1,25 +1,26 @@
 # -*- coding: utf-8 -*-
 from odoo import fields, models, _
 
+
 class ResConfigSettings(models.TransientModel):
-  _inherit = 'res.config.settings'
+    _inherit = 'res.config.settings'
+
+    contribution_year_report_email_template_id = fields.Many2one(
+        related='company_id.contribution_year_report_email_template_id',
+        string=_("Contribution year report"),
+        readonly=False)
+
+    sm_contribution_account_id = fields.Many2one(
+        related='company_id.sm_contribution_account_id',
+        string=_("Compte d'aportació (linies factura)"),
+        readonly=False)
+
+    sm_contribution_invoice_account_id = fields.Many2one(
+        related='company_id.sm_contribution_invoice_account_id',
+        string=_("Compte d'aportació (factures)"),
+        readonly=False)
 
-  contribution_year_report_email_template_id = fields.Many2one(
-    related='company_id.contribution_year_report_email_template_id',
-    string=_("Contribution year report"),
-    readonly=False)
-
-  sm_contribution_account_id = fields.Many2one(
-    related='company_id.sm_contribution_account_id',
-    string=_("Compte d'aportació (linies factura)"),
-    readonly=False)
-
-  sm_contribution_invoice_account_id = fields.Many2one(
-    related='company_id.sm_contribution_invoice_account_id',
-    string=_("Compte d'aportació (factures)"),
-    readonly=False)
-
-  sm_contribution_tax_account_id = fields.Many2one(
-    related='company_id.sm_contribution_tax_account_id',
-    string=_("Compte d'interessos d'aportació"),
-    readonly=False)
+    sm_contribution_tax_account_id = fields.Many2one(
+        related='company_id.sm_contribution_tax_account_id',
+        string=_("Compte d'interessos d'aportació"),
+        readonly=False)
```

## Comparing `odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/RECORD` & `odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,21 +1,21 @@
 odoo/addons/sm_contributions/__init__.py,sha256=ZXYTZLCsV59tdMuPmQQoURoibE1MudSUFNUdtDS0D58,67
-odoo/addons/sm_contributions/__manifest__.py,sha256=9NKm8Prza4PkE-DvhGmdgbYOY8RJp2vEfBnvSkI-Vbw,1606
+odoo/addons/sm_contributions/__manifest__.py,sha256=KwKyjMA-IixhFTjWFsbF-oRtrKeQQK6KnduAS63o8Tw,1422
 odoo/addons/sm_contributions/data/sm_account_journal.xml,sha256=PTq3_fglJOBKa-3SGpQy5Q42O4HcBUlU-BQqftpUOvs,871
 odoo/addons/sm_contributions/email_tmpl/contributions_contract.xml,sha256=r34YpZrCOxaFYQiHwLDkenP805qwsp9Om01_46xo-vE,1979
 odoo/addons/sm_contributions/email_tmpl/contributions_contract_2.xml,sha256=s6vAPF1Z5fQKy965wfzKob5M4Sa7CUy1Y0LOaq4EvrA,1985
 odoo/addons/sm_contributions/email_tmpl/contributions_contract_3.xml,sha256=7qbc5TSym1n6vDqZGPzPYmWNx1XfxcqHrPkRR53sUYY,1985
 odoo/addons/sm_contributions/email_tmpl/contributions_year_line.xml,sha256=HkftqG6ZBg7zTrrgCW_rajFAGa31QhQt0GnzbsyXBVg,2047
 odoo/addons/sm_contributions/models/__init__.py,sha256=A_dmRR0yVPbdD4UbDDoAGqVhV9a0ILVOv6uY41XSpeI,267
-odoo/addons/sm_contributions/models/models_sm_company.py,sha256=T93TwZIHIQ1gcFsBdI1_cfq8qacRKtu3SS1K836oomg,644
-odoo/addons/sm_contributions/models/models_sm_contribution.py,sha256=7ks3XDwQxQ3ezyp8rg2JjQxAfUhHpuA5SRxQ5Gs-IYg,9158
-odoo/addons/sm_contributions/models/models_sm_contribution_interest.py,sha256=Yag3TqSS7obmyVoq79mQIPfKuSZjbe8YqXyMd8o9iB4,693
-odoo/addons/sm_contributions/models/models_sm_contribution_line.py,sha256=rrZA0Oa8oYGY7ONLOz5P7K9_64W1iRX4JjgukhmqpVE,8020
-odoo/addons/sm_contributions/models/models_sm_contribution_type.py,sha256=AwQfL7VziiBCEwpJgNZb-EqCqvu3tkZnbBTAksM3Imc,514
-odoo/addons/sm_contributions/models/models_sm_res_config_settings.py,sha256=T7WFrADzPgZyOskeIJGf2rJ64loUVdyZlUtI_05nkt0,881
+odoo/addons/sm_contributions/models/models_sm_company.py,sha256=oqjE88j815EWXWsM9KbCOZr3nRXREoNyYSGdmbE9A5s,719
+odoo/addons/sm_contributions/models/models_sm_contribution.py,sha256=ErFP7Vwwr2IIXvO_tWAKe7m8-dOy8PgmQhyqlKrKaT4,10871
+odoo/addons/sm_contributions/models/models_sm_contribution_interest.py,sha256=16n30VqafOHEXiUt4jU9eOJsiWm_sdHY_JUgFRFXCYw,751
+odoo/addons/sm_contributions/models/models_sm_contribution_line.py,sha256=hiUFzvROsn-RJ2Gpzx7ZcqBbugp0a19D9H0EygytiGE,9542
+odoo/addons/sm_contributions/models/models_sm_contribution_type.py,sha256=R3R6SKggy9IYDlLzVRpghaXvrUdqMcetFcljPjo7330,551
+odoo/addons/sm_contributions/models/models_sm_res_config_settings.py,sha256=8RKf3A8OtZmcj_E0PcKp5RM8t0EUnfD8EONEGDGFO2A,940
 odoo/addons/sm_contributions/report/sm_contributions_contract.xml,sha256=WDA_EpwF6agqu6V0hE_GsdLEiRb4_JPVEnG9ZwxY_Iw,14865
 odoo/addons/sm_contributions/report/sm_contributions_contract_2.xml,sha256=WHocfHbvSR1Hn16anklBX05T4lfeZnZRWa3d70q52zQ,15920
 odoo/addons/sm_contributions/report/sm_contributions_contract_3.xml,sha256=vxUVsyIPdWjWk24xynDaF6u0rwwBBq0PKzh7ChXSdww,15348
 odoo/addons/sm_contributions/report/sm_contributions_report.xml,sha256=yBmu6bjSNQCI35REwYWH88HEGJwazEFagv2wr_lfKcw,5101
 odoo/addons/sm_contributions/report/sm_contributions_report_line.xml,sha256=TrMDVWGdVw2tTVDHPhkx3p9YWzQv1kzHGOR5DwjCQ5k,8897
 odoo/addons/sm_contributions/security/ir.model.access.csv,sha256=SFBOJ8eEks4G9ifDB5F52VuZ6K10ULNFfiuGfhRe4Fw,617
 odoo/addons/sm_contributions/static/firm.png,sha256=6cgiWaPHNqNoHVkAGWKYvHY8gbVBqOON6WGuvrHFVrw,21482
@@ -26,11 +26,11 @@
 odoo/addons/sm_contributions/views/views_contribution_type.xml,sha256=doA2KQFlZ4dpz5ZP--cHF7oMi5fx37pay2fcaQdGwKo,1685
 odoo/addons/sm_contributions/views/views_res_config_settings.xml,sha256=A07sBLh5mDBdcmSGRTKTVdZHGwKVYe_sOyc6LNL1dTc,1293
 odoo/addons/sm_contributions/wizards/__init__.py,sha256=DYFVEpU-ilJrM9uUxbyeGy_fb0dMQYvD6dftgg7q4Ug,79
 odoo/addons/sm_contributions/wizards/wizards_sm_date_picker.py,sha256=YQSh7tZNd5KO1aiSyFbqhOki9uoZFO03KW1jjNeZNz8,1486
 odoo/addons/sm_contributions/wizards/wizards_sm_date_picker.xml,sha256=ZSXupqYaH2Rn7DzsQ1xCgKSr98MKtjejBtQXuFbWWHo,650
 odoo/addons/sm_contributions/wizards/wizards_sm_select_year_line.py,sha256=hPW5acScs3yilWGJDgsaB5mjyWiwe-IixXJjCYH43Uk,1215
 odoo/addons/sm_contributions/wizards/wizards_sm_select_year_line.xml,sha256=csu5t4A4CB_9ad16FSONrLMP6Eh4XymaNtKBx4QtXr8,799
-odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/METADATA,sha256=3jJl1-u5UWTRAq8jQyua6ZbfB9epVnd0hqZitv9ends,474
-odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/WHEEL,sha256=z9j0xAa_JmUKMpmz72K0ZGALSM_n-wQVmGbleXx2VHg,110
-odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo12_addon_sm_contributions-12.0.0.0.6.dist-info/RECORD,,
+odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/METADATA,sha256=9jRpu9BNIeQ0chYolawJLxvys8TaWH0ORZQsN6XuW7c,481
+odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/WHEEL,sha256=-G_t0oGuE7UD0DrSpVZnq1hHMBV9DD2XkS5v7XpmTnk,110
+odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo12_addon_sm_contributions-12.0.0.0.6.99.dev1.dist-info/RECORD,,
```

